<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: blake2bAVX2_amd64.s in package golang.org/x/crypto/blake2b</title>
<link href="../../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	blake2bAVX2_amd64.s

<span class="title">Belonging Package</span>
	<a href="../../../../../pkg/golang.org/x/crypto/blake2b.html">golang.org/x/crypto/blake2b</a>
</code></pre>

<pre class="line-numbers">
<span class="codeline" id="line-1"><code>// Copyright 2016 The Go Authors. All rights reserved.</code></span>
<span class="codeline" id="line-2"><code>// Use of this source code is governed by a BSD-style</code></span>
<span class="codeline" id="line-3"><code>// license that can be found in the LICENSE file.</code></span>
<span class="codeline" id="line-4"><code></code></span>
<span class="codeline" id="line-5"><code>//go:build amd64 &amp;&amp; gc &amp;&amp; !purego</code></span>
<span class="codeline" id="line-6"><code></code></span>
<span class="codeline" id="line-7"><code>#include "textflag.h"</code></span>
<span class="codeline" id="line-8"><code></code></span>
<span class="codeline" id="line-9"><code>DATA ·AVX2_iv0&lt;&gt;+0x00(SB)/8, $0x6a09e667f3bcc908</code></span>
<span class="codeline" id="line-10"><code>DATA ·AVX2_iv0&lt;&gt;+0x08(SB)/8, $0xbb67ae8584caa73b</code></span>
<span class="codeline" id="line-11"><code>DATA ·AVX2_iv0&lt;&gt;+0x10(SB)/8, $0x3c6ef372fe94f82b</code></span>
<span class="codeline" id="line-12"><code>DATA ·AVX2_iv0&lt;&gt;+0x18(SB)/8, $0xa54ff53a5f1d36f1</code></span>
<span class="codeline" id="line-13"><code>GLOBL ·AVX2_iv0&lt;&gt;(SB), (NOPTR+RODATA), $32</code></span>
<span class="codeline" id="line-14"><code></code></span>
<span class="codeline" id="line-15"><code>DATA ·AVX2_iv1&lt;&gt;+0x00(SB)/8, $0x510e527fade682d1</code></span>
<span class="codeline" id="line-16"><code>DATA ·AVX2_iv1&lt;&gt;+0x08(SB)/8, $0x9b05688c2b3e6c1f</code></span>
<span class="codeline" id="line-17"><code>DATA ·AVX2_iv1&lt;&gt;+0x10(SB)/8, $0x1f83d9abfb41bd6b</code></span>
<span class="codeline" id="line-18"><code>DATA ·AVX2_iv1&lt;&gt;+0x18(SB)/8, $0x5be0cd19137e2179</code></span>
<span class="codeline" id="line-19"><code>GLOBL ·AVX2_iv1&lt;&gt;(SB), (NOPTR+RODATA), $32</code></span>
<span class="codeline" id="line-20"><code></code></span>
<span class="codeline" id="line-21"><code>DATA ·AVX2_c40&lt;&gt;+0x00(SB)/8, $0x0201000706050403</code></span>
<span class="codeline" id="line-22"><code>DATA ·AVX2_c40&lt;&gt;+0x08(SB)/8, $0x0a09080f0e0d0c0b</code></span>
<span class="codeline" id="line-23"><code>DATA ·AVX2_c40&lt;&gt;+0x10(SB)/8, $0x0201000706050403</code></span>
<span class="codeline" id="line-24"><code>DATA ·AVX2_c40&lt;&gt;+0x18(SB)/8, $0x0a09080f0e0d0c0b</code></span>
<span class="codeline" id="line-25"><code>GLOBL ·AVX2_c40&lt;&gt;(SB), (NOPTR+RODATA), $32</code></span>
<span class="codeline" id="line-26"><code></code></span>
<span class="codeline" id="line-27"><code>DATA ·AVX2_c48&lt;&gt;+0x00(SB)/8, $0x0100070605040302</code></span>
<span class="codeline" id="line-28"><code>DATA ·AVX2_c48&lt;&gt;+0x08(SB)/8, $0x09080f0e0d0c0b0a</code></span>
<span class="codeline" id="line-29"><code>DATA ·AVX2_c48&lt;&gt;+0x10(SB)/8, $0x0100070605040302</code></span>
<span class="codeline" id="line-30"><code>DATA ·AVX2_c48&lt;&gt;+0x18(SB)/8, $0x09080f0e0d0c0b0a</code></span>
<span class="codeline" id="line-31"><code>GLOBL ·AVX2_c48&lt;&gt;(SB), (NOPTR+RODATA), $32</code></span>
<span class="codeline" id="line-32"><code></code></span>
<span class="codeline" id="line-33"><code>DATA ·AVX_iv0&lt;&gt;+0x00(SB)/8, $0x6a09e667f3bcc908</code></span>
<span class="codeline" id="line-34"><code>DATA ·AVX_iv0&lt;&gt;+0x08(SB)/8, $0xbb67ae8584caa73b</code></span>
<span class="codeline" id="line-35"><code>GLOBL ·AVX_iv0&lt;&gt;(SB), (NOPTR+RODATA), $16</code></span>
<span class="codeline" id="line-36"><code></code></span>
<span class="codeline" id="line-37"><code>DATA ·AVX_iv1&lt;&gt;+0x00(SB)/8, $0x3c6ef372fe94f82b</code></span>
<span class="codeline" id="line-38"><code>DATA ·AVX_iv1&lt;&gt;+0x08(SB)/8, $0xa54ff53a5f1d36f1</code></span>
<span class="codeline" id="line-39"><code>GLOBL ·AVX_iv1&lt;&gt;(SB), (NOPTR+RODATA), $16</code></span>
<span class="codeline" id="line-40"><code></code></span>
<span class="codeline" id="line-41"><code>DATA ·AVX_iv2&lt;&gt;+0x00(SB)/8, $0x510e527fade682d1</code></span>
<span class="codeline" id="line-42"><code>DATA ·AVX_iv2&lt;&gt;+0x08(SB)/8, $0x9b05688c2b3e6c1f</code></span>
<span class="codeline" id="line-43"><code>GLOBL ·AVX_iv2&lt;&gt;(SB), (NOPTR+RODATA), $16</code></span>
<span class="codeline" id="line-44"><code></code></span>
<span class="codeline" id="line-45"><code>DATA ·AVX_iv3&lt;&gt;+0x00(SB)/8, $0x1f83d9abfb41bd6b</code></span>
<span class="codeline" id="line-46"><code>DATA ·AVX_iv3&lt;&gt;+0x08(SB)/8, $0x5be0cd19137e2179</code></span>
<span class="codeline" id="line-47"><code>GLOBL ·AVX_iv3&lt;&gt;(SB), (NOPTR+RODATA), $16</code></span>
<span class="codeline" id="line-48"><code></code></span>
<span class="codeline" id="line-49"><code>DATA ·AVX_c40&lt;&gt;+0x00(SB)/8, $0x0201000706050403</code></span>
<span class="codeline" id="line-50"><code>DATA ·AVX_c40&lt;&gt;+0x08(SB)/8, $0x0a09080f0e0d0c0b</code></span>
<span class="codeline" id="line-51"><code>GLOBL ·AVX_c40&lt;&gt;(SB), (NOPTR+RODATA), $16</code></span>
<span class="codeline" id="line-52"><code></code></span>
<span class="codeline" id="line-53"><code>DATA ·AVX_c48&lt;&gt;+0x00(SB)/8, $0x0100070605040302</code></span>
<span class="codeline" id="line-54"><code>DATA ·AVX_c48&lt;&gt;+0x08(SB)/8, $0x09080f0e0d0c0b0a</code></span>
<span class="codeline" id="line-55"><code>GLOBL ·AVX_c48&lt;&gt;(SB), (NOPTR+RODATA), $16</code></span>
<span class="codeline" id="line-56"><code></code></span>
<span class="codeline" id="line-57"><code>#define VPERMQ_0x39_Y1_Y1 BYTE $0xc4; BYTE $0xe3; BYTE $0xfd; BYTE $0x00; BYTE $0xc9; BYTE $0x39</code></span>
<span class="codeline" id="line-58"><code>#define VPERMQ_0x93_Y1_Y1 BYTE $0xc4; BYTE $0xe3; BYTE $0xfd; BYTE $0x00; BYTE $0xc9; BYTE $0x93</code></span>
<span class="codeline" id="line-59"><code>#define VPERMQ_0x4E_Y2_Y2 BYTE $0xc4; BYTE $0xe3; BYTE $0xfd; BYTE $0x00; BYTE $0xd2; BYTE $0x4e</code></span>
<span class="codeline" id="line-60"><code>#define VPERMQ_0x93_Y3_Y3 BYTE $0xc4; BYTE $0xe3; BYTE $0xfd; BYTE $0x00; BYTE $0xdb; BYTE $0x93</code></span>
<span class="codeline" id="line-61"><code>#define VPERMQ_0x39_Y3_Y3 BYTE $0xc4; BYTE $0xe3; BYTE $0xfd; BYTE $0x00; BYTE $0xdb; BYTE $0x39</code></span>
<span class="codeline" id="line-62"><code></code></span>
<span class="codeline" id="line-63"><code>#define ROUND_AVX2(m0, m1, m2, m3, t, c40, c48) \</code></span>
<span class="codeline" id="line-64"><code>	VPADDQ  m0, Y0, Y0;   \</code></span>
<span class="codeline" id="line-65"><code>	VPADDQ  Y1, Y0, Y0;   \</code></span>
<span class="codeline" id="line-66"><code>	VPXOR   Y0, Y3, Y3;   \</code></span>
<span class="codeline" id="line-67"><code>	VPSHUFD $-79, Y3, Y3; \</code></span>
<span class="codeline" id="line-68"><code>	VPADDQ  Y3, Y2, Y2;   \</code></span>
<span class="codeline" id="line-69"><code>	VPXOR   Y2, Y1, Y1;   \</code></span>
<span class="codeline" id="line-70"><code>	VPSHUFB c40, Y1, Y1;  \</code></span>
<span class="codeline" id="line-71"><code>	VPADDQ  m1, Y0, Y0;   \</code></span>
<span class="codeline" id="line-72"><code>	VPADDQ  Y1, Y0, Y0;   \</code></span>
<span class="codeline" id="line-73"><code>	VPXOR   Y0, Y3, Y3;   \</code></span>
<span class="codeline" id="line-74"><code>	VPSHUFB c48, Y3, Y3;  \</code></span>
<span class="codeline" id="line-75"><code>	VPADDQ  Y3, Y2, Y2;   \</code></span>
<span class="codeline" id="line-76"><code>	VPXOR   Y2, Y1, Y1;   \</code></span>
<span class="codeline" id="line-77"><code>	VPADDQ  Y1, Y1, t;    \</code></span>
<span class="codeline" id="line-78"><code>	VPSRLQ  $63, Y1, Y1;  \</code></span>
<span class="codeline" id="line-79"><code>	VPXOR   t, Y1, Y1;    \</code></span>
<span class="codeline" id="line-80"><code>	VPERMQ_0x39_Y1_Y1;    \</code></span>
<span class="codeline" id="line-81"><code>	VPERMQ_0x4E_Y2_Y2;    \</code></span>
<span class="codeline" id="line-82"><code>	VPERMQ_0x93_Y3_Y3;    \</code></span>
<span class="codeline" id="line-83"><code>	VPADDQ  m2, Y0, Y0;   \</code></span>
<span class="codeline" id="line-84"><code>	VPADDQ  Y1, Y0, Y0;   \</code></span>
<span class="codeline" id="line-85"><code>	VPXOR   Y0, Y3, Y3;   \</code></span>
<span class="codeline" id="line-86"><code>	VPSHUFD $-79, Y3, Y3; \</code></span>
<span class="codeline" id="line-87"><code>	VPADDQ  Y3, Y2, Y2;   \</code></span>
<span class="codeline" id="line-88"><code>	VPXOR   Y2, Y1, Y1;   \</code></span>
<span class="codeline" id="line-89"><code>	VPSHUFB c40, Y1, Y1;  \</code></span>
<span class="codeline" id="line-90"><code>	VPADDQ  m3, Y0, Y0;   \</code></span>
<span class="codeline" id="line-91"><code>	VPADDQ  Y1, Y0, Y0;   \</code></span>
<span class="codeline" id="line-92"><code>	VPXOR   Y0, Y3, Y3;   \</code></span>
<span class="codeline" id="line-93"><code>	VPSHUFB c48, Y3, Y3;  \</code></span>
<span class="codeline" id="line-94"><code>	VPADDQ  Y3, Y2, Y2;   \</code></span>
<span class="codeline" id="line-95"><code>	VPXOR   Y2, Y1, Y1;   \</code></span>
<span class="codeline" id="line-96"><code>	VPADDQ  Y1, Y1, t;    \</code></span>
<span class="codeline" id="line-97"><code>	VPSRLQ  $63, Y1, Y1;  \</code></span>
<span class="codeline" id="line-98"><code>	VPXOR   t, Y1, Y1;    \</code></span>
<span class="codeline" id="line-99"><code>	VPERMQ_0x39_Y3_Y3;    \</code></span>
<span class="codeline" id="line-100"><code>	VPERMQ_0x4E_Y2_Y2;    \</code></span>
<span class="codeline" id="line-101"><code>	VPERMQ_0x93_Y1_Y1</code></span>
<span class="codeline" id="line-102"><code></code></span>
<span class="codeline" id="line-103"><code>#define VMOVQ_SI_X11_0 BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x1E</code></span>
<span class="codeline" id="line-104"><code>#define VMOVQ_SI_X12_0 BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x26</code></span>
<span class="codeline" id="line-105"><code>#define VMOVQ_SI_X13_0 BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x2E</code></span>
<span class="codeline" id="line-106"><code>#define VMOVQ_SI_X14_0 BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x36</code></span>
<span class="codeline" id="line-107"><code>#define VMOVQ_SI_X15_0 BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x3E</code></span>
<span class="codeline" id="line-108"><code></code></span>
<span class="codeline" id="line-109"><code>#define VMOVQ_SI_X11(n) BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x5E; BYTE $n</code></span>
<span class="codeline" id="line-110"><code>#define VMOVQ_SI_X12(n) BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x66; BYTE $n</code></span>
<span class="codeline" id="line-111"><code>#define VMOVQ_SI_X13(n) BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x6E; BYTE $n</code></span>
<span class="codeline" id="line-112"><code>#define VMOVQ_SI_X14(n) BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x76; BYTE $n</code></span>
<span class="codeline" id="line-113"><code>#define VMOVQ_SI_X15(n) BYTE $0xC5; BYTE $0x7A; BYTE $0x7E; BYTE $0x7E; BYTE $n</code></span>
<span class="codeline" id="line-114"><code></code></span>
<span class="codeline" id="line-115"><code>#define VPINSRQ_1_SI_X11_0 BYTE $0xC4; BYTE $0x63; BYTE $0xA1; BYTE $0x22; BYTE $0x1E; BYTE $0x01</code></span>
<span class="codeline" id="line-116"><code>#define VPINSRQ_1_SI_X12_0 BYTE $0xC4; BYTE $0x63; BYTE $0x99; BYTE $0x22; BYTE $0x26; BYTE $0x01</code></span>
<span class="codeline" id="line-117"><code>#define VPINSRQ_1_SI_X13_0 BYTE $0xC4; BYTE $0x63; BYTE $0x91; BYTE $0x22; BYTE $0x2E; BYTE $0x01</code></span>
<span class="codeline" id="line-118"><code>#define VPINSRQ_1_SI_X14_0 BYTE $0xC4; BYTE $0x63; BYTE $0x89; BYTE $0x22; BYTE $0x36; BYTE $0x01</code></span>
<span class="codeline" id="line-119"><code>#define VPINSRQ_1_SI_X15_0 BYTE $0xC4; BYTE $0x63; BYTE $0x81; BYTE $0x22; BYTE $0x3E; BYTE $0x01</code></span>
<span class="codeline" id="line-120"><code></code></span>
<span class="codeline" id="line-121"><code>#define VPINSRQ_1_SI_X11(n) BYTE $0xC4; BYTE $0x63; BYTE $0xA1; BYTE $0x22; BYTE $0x5E; BYTE $n; BYTE $0x01</code></span>
<span class="codeline" id="line-122"><code>#define VPINSRQ_1_SI_X12(n) BYTE $0xC4; BYTE $0x63; BYTE $0x99; BYTE $0x22; BYTE $0x66; BYTE $n; BYTE $0x01</code></span>
<span class="codeline" id="line-123"><code>#define VPINSRQ_1_SI_X13(n) BYTE $0xC4; BYTE $0x63; BYTE $0x91; BYTE $0x22; BYTE $0x6E; BYTE $n; BYTE $0x01</code></span>
<span class="codeline" id="line-124"><code>#define VPINSRQ_1_SI_X14(n) BYTE $0xC4; BYTE $0x63; BYTE $0x89; BYTE $0x22; BYTE $0x76; BYTE $n; BYTE $0x01</code></span>
<span class="codeline" id="line-125"><code>#define VPINSRQ_1_SI_X15(n) BYTE $0xC4; BYTE $0x63; BYTE $0x81; BYTE $0x22; BYTE $0x7E; BYTE $n; BYTE $0x01</code></span>
<span class="codeline" id="line-126"><code></code></span>
<span class="codeline" id="line-127"><code>#define VMOVQ_R8_X15 BYTE $0xC4; BYTE $0x41; BYTE $0xF9; BYTE $0x6E; BYTE $0xF8</code></span>
<span class="codeline" id="line-128"><code>#define VPINSRQ_1_R9_X15 BYTE $0xC4; BYTE $0x43; BYTE $0x81; BYTE $0x22; BYTE $0xF9; BYTE $0x01</code></span>
<span class="codeline" id="line-129"><code></code></span>
<span class="codeline" id="line-130"><code>// load msg: Y12 = (i0, i1, i2, i3)</code></span>
<span class="codeline" id="line-131"><code>// i0, i1, i2, i3 must not be 0</code></span>
<span class="codeline" id="line-132"><code>#define LOAD_MSG_AVX2_Y12(i0, i1, i2, i3) \</code></span>
<span class="codeline" id="line-133"><code>	VMOVQ_SI_X12(i0*8);           \</code></span>
<span class="codeline" id="line-134"><code>	VMOVQ_SI_X11(i2*8);           \</code></span>
<span class="codeline" id="line-135"><code>	VPINSRQ_1_SI_X12(i1*8);       \</code></span>
<span class="codeline" id="line-136"><code>	VPINSRQ_1_SI_X11(i3*8);       \</code></span>
<span class="codeline" id="line-137"><code>	VINSERTI128 $1, X11, Y12, Y12</code></span>
<span class="codeline" id="line-138"><code></code></span>
<span class="codeline" id="line-139"><code>// load msg: Y13 = (i0, i1, i2, i3)</code></span>
<span class="codeline" id="line-140"><code>// i0, i1, i2, i3 must not be 0</code></span>
<span class="codeline" id="line-141"><code>#define LOAD_MSG_AVX2_Y13(i0, i1, i2, i3) \</code></span>
<span class="codeline" id="line-142"><code>	VMOVQ_SI_X13(i0*8);           \</code></span>
<span class="codeline" id="line-143"><code>	VMOVQ_SI_X11(i2*8);           \</code></span>
<span class="codeline" id="line-144"><code>	VPINSRQ_1_SI_X13(i1*8);       \</code></span>
<span class="codeline" id="line-145"><code>	VPINSRQ_1_SI_X11(i3*8);       \</code></span>
<span class="codeline" id="line-146"><code>	VINSERTI128 $1, X11, Y13, Y13</code></span>
<span class="codeline" id="line-147"><code></code></span>
<span class="codeline" id="line-148"><code>// load msg: Y14 = (i0, i1, i2, i3)</code></span>
<span class="codeline" id="line-149"><code>// i0, i1, i2, i3 must not be 0</code></span>
<span class="codeline" id="line-150"><code>#define LOAD_MSG_AVX2_Y14(i0, i1, i2, i3) \</code></span>
<span class="codeline" id="line-151"><code>	VMOVQ_SI_X14(i0*8);           \</code></span>
<span class="codeline" id="line-152"><code>	VMOVQ_SI_X11(i2*8);           \</code></span>
<span class="codeline" id="line-153"><code>	VPINSRQ_1_SI_X14(i1*8);       \</code></span>
<span class="codeline" id="line-154"><code>	VPINSRQ_1_SI_X11(i3*8);       \</code></span>
<span class="codeline" id="line-155"><code>	VINSERTI128 $1, X11, Y14, Y14</code></span>
<span class="codeline" id="line-156"><code></code></span>
<span class="codeline" id="line-157"><code>// load msg: Y15 = (i0, i1, i2, i3)</code></span>
<span class="codeline" id="line-158"><code>// i0, i1, i2, i3 must not be 0</code></span>
<span class="codeline" id="line-159"><code>#define LOAD_MSG_AVX2_Y15(i0, i1, i2, i3) \</code></span>
<span class="codeline" id="line-160"><code>	VMOVQ_SI_X15(i0*8);           \</code></span>
<span class="codeline" id="line-161"><code>	VMOVQ_SI_X11(i2*8);           \</code></span>
<span class="codeline" id="line-162"><code>	VPINSRQ_1_SI_X15(i1*8);       \</code></span>
<span class="codeline" id="line-163"><code>	VPINSRQ_1_SI_X11(i3*8);       \</code></span>
<span class="codeline" id="line-164"><code>	VINSERTI128 $1, X11, Y15, Y15</code></span>
<span class="codeline" id="line-165"><code></code></span>
<span class="codeline" id="line-166"><code>#define LOAD_MSG_AVX2_0_2_4_6_1_3_5_7_8_10_12_14_9_11_13_15() \</code></span>
<span class="codeline" id="line-167"><code>	VMOVQ_SI_X12_0;                   \</code></span>
<span class="codeline" id="line-168"><code>	VMOVQ_SI_X11(4*8);                \</code></span>
<span class="codeline" id="line-169"><code>	VPINSRQ_1_SI_X12(2*8);            \</code></span>
<span class="codeline" id="line-170"><code>	VPINSRQ_1_SI_X11(6*8);            \</code></span>
<span class="codeline" id="line-171"><code>	VINSERTI128 $1, X11, Y12, Y12;    \</code></span>
<span class="codeline" id="line-172"><code>	LOAD_MSG_AVX2_Y13(1, 3, 5, 7);    \</code></span>
<span class="codeline" id="line-173"><code>	LOAD_MSG_AVX2_Y14(8, 10, 12, 14); \</code></span>
<span class="codeline" id="line-174"><code>	LOAD_MSG_AVX2_Y15(9, 11, 13, 15)</code></span>
<span class="codeline" id="line-175"><code></code></span>
<span class="codeline" id="line-176"><code>#define LOAD_MSG_AVX2_14_4_9_13_10_8_15_6_1_0_11_5_12_2_7_3() \</code></span>
<span class="codeline" id="line-177"><code>	LOAD_MSG_AVX2_Y12(14, 4, 9, 13); \</code></span>
<span class="codeline" id="line-178"><code>	LOAD_MSG_AVX2_Y13(10, 8, 15, 6); \</code></span>
<span class="codeline" id="line-179"><code>	VMOVQ_SI_X11(11*8);              \</code></span>
<span class="codeline" id="line-180"><code>	VPSHUFD     $0x4E, 0*8(SI), X14; \</code></span>
<span class="codeline" id="line-181"><code>	VPINSRQ_1_SI_X11(5*8);           \</code></span>
<span class="codeline" id="line-182"><code>	VINSERTI128 $1, X11, Y14, Y14;   \</code></span>
<span class="codeline" id="line-183"><code>	LOAD_MSG_AVX2_Y15(12, 2, 7, 3)</code></span>
<span class="codeline" id="line-184"><code></code></span>
<span class="codeline" id="line-185"><code>#define LOAD_MSG_AVX2_11_12_5_15_8_0_2_13_10_3_7_9_14_6_1_4() \</code></span>
<span class="codeline" id="line-186"><code>	VMOVQ_SI_X11(5*8);              \</code></span>
<span class="codeline" id="line-187"><code>	VMOVDQU     11*8(SI), X12;      \</code></span>
<span class="codeline" id="line-188"><code>	VPINSRQ_1_SI_X11(15*8);         \</code></span>
<span class="codeline" id="line-189"><code>	VINSERTI128 $1, X11, Y12, Y12;  \</code></span>
<span class="codeline" id="line-190"><code>	VMOVQ_SI_X13(8*8);              \</code></span>
<span class="codeline" id="line-191"><code>	VMOVQ_SI_X11(2*8);              \</code></span>
<span class="codeline" id="line-192"><code>	VPINSRQ_1_SI_X13_0;             \</code></span>
<span class="codeline" id="line-193"><code>	VPINSRQ_1_SI_X11(13*8);         \</code></span>
<span class="codeline" id="line-194"><code>	VINSERTI128 $1, X11, Y13, Y13;  \</code></span>
<span class="codeline" id="line-195"><code>	LOAD_MSG_AVX2_Y14(10, 3, 7, 9); \</code></span>
<span class="codeline" id="line-196"><code>	LOAD_MSG_AVX2_Y15(14, 6, 1, 4)</code></span>
<span class="codeline" id="line-197"><code></code></span>
<span class="codeline" id="line-198"><code>#define LOAD_MSG_AVX2_7_3_13_11_9_1_12_14_2_5_4_15_6_10_0_8() \</code></span>
<span class="codeline" id="line-199"><code>	LOAD_MSG_AVX2_Y12(7, 3, 13, 11); \</code></span>
<span class="codeline" id="line-200"><code>	LOAD_MSG_AVX2_Y13(9, 1, 12, 14); \</code></span>
<span class="codeline" id="line-201"><code>	LOAD_MSG_AVX2_Y14(2, 5, 4, 15);  \</code></span>
<span class="codeline" id="line-202"><code>	VMOVQ_SI_X15(6*8);               \</code></span>
<span class="codeline" id="line-203"><code>	VMOVQ_SI_X11_0;                  \</code></span>
<span class="codeline" id="line-204"><code>	VPINSRQ_1_SI_X15(10*8);          \</code></span>
<span class="codeline" id="line-205"><code>	VPINSRQ_1_SI_X11(8*8);           \</code></span>
<span class="codeline" id="line-206"><code>	VINSERTI128 $1, X11, Y15, Y15</code></span>
<span class="codeline" id="line-207"><code></code></span>
<span class="codeline" id="line-208"><code>#define LOAD_MSG_AVX2_9_5_2_10_0_7_4_15_14_11_6_3_1_12_8_13() \</code></span>
<span class="codeline" id="line-209"><code>	LOAD_MSG_AVX2_Y12(9, 5, 2, 10);  \</code></span>
<span class="codeline" id="line-210"><code>	VMOVQ_SI_X13_0;                  \</code></span>
<span class="codeline" id="line-211"><code>	VMOVQ_SI_X11(4*8);               \</code></span>
<span class="codeline" id="line-212"><code>	VPINSRQ_1_SI_X13(7*8);           \</code></span>
<span class="codeline" id="line-213"><code>	VPINSRQ_1_SI_X11(15*8);          \</code></span>
<span class="codeline" id="line-214"><code>	VINSERTI128 $1, X11, Y13, Y13;   \</code></span>
<span class="codeline" id="line-215"><code>	LOAD_MSG_AVX2_Y14(14, 11, 6, 3); \</code></span>
<span class="codeline" id="line-216"><code>	LOAD_MSG_AVX2_Y15(1, 12, 8, 13)</code></span>
<span class="codeline" id="line-217"><code></code></span>
<span class="codeline" id="line-218"><code>#define LOAD_MSG_AVX2_2_6_0_8_12_10_11_3_4_7_15_1_13_5_14_9() \</code></span>
<span class="codeline" id="line-219"><code>	VMOVQ_SI_X12(2*8);                \</code></span>
<span class="codeline" id="line-220"><code>	VMOVQ_SI_X11_0;                   \</code></span>
<span class="codeline" id="line-221"><code>	VPINSRQ_1_SI_X12(6*8);            \</code></span>
<span class="codeline" id="line-222"><code>	VPINSRQ_1_SI_X11(8*8);            \</code></span>
<span class="codeline" id="line-223"><code>	VINSERTI128 $1, X11, Y12, Y12;    \</code></span>
<span class="codeline" id="line-224"><code>	LOAD_MSG_AVX2_Y13(12, 10, 11, 3); \</code></span>
<span class="codeline" id="line-225"><code>	LOAD_MSG_AVX2_Y14(4, 7, 15, 1);   \</code></span>
<span class="codeline" id="line-226"><code>	LOAD_MSG_AVX2_Y15(13, 5, 14, 9)</code></span>
<span class="codeline" id="line-227"><code></code></span>
<span class="codeline" id="line-228"><code>#define LOAD_MSG_AVX2_12_1_14_4_5_15_13_10_0_6_9_8_7_3_2_11() \</code></span>
<span class="codeline" id="line-229"><code>	LOAD_MSG_AVX2_Y12(12, 1, 14, 4);  \</code></span>
<span class="codeline" id="line-230"><code>	LOAD_MSG_AVX2_Y13(5, 15, 13, 10); \</code></span>
<span class="codeline" id="line-231"><code>	VMOVQ_SI_X14_0;                   \</code></span>
<span class="codeline" id="line-232"><code>	VPSHUFD     $0x4E, 8*8(SI), X11;  \</code></span>
<span class="codeline" id="line-233"><code>	VPINSRQ_1_SI_X14(6*8);            \</code></span>
<span class="codeline" id="line-234"><code>	VINSERTI128 $1, X11, Y14, Y14;    \</code></span>
<span class="codeline" id="line-235"><code>	LOAD_MSG_AVX2_Y15(7, 3, 2, 11)</code></span>
<span class="codeline" id="line-236"><code></code></span>
<span class="codeline" id="line-237"><code>#define LOAD_MSG_AVX2_13_7_12_3_11_14_1_9_5_15_8_2_0_4_6_10() \</code></span>
<span class="codeline" id="line-238"><code>	LOAD_MSG_AVX2_Y12(13, 7, 12, 3); \</code></span>
<span class="codeline" id="line-239"><code>	LOAD_MSG_AVX2_Y13(11, 14, 1, 9); \</code></span>
<span class="codeline" id="line-240"><code>	LOAD_MSG_AVX2_Y14(5, 15, 8, 2);  \</code></span>
<span class="codeline" id="line-241"><code>	VMOVQ_SI_X15_0;                  \</code></span>
<span class="codeline" id="line-242"><code>	VMOVQ_SI_X11(6*8);               \</code></span>
<span class="codeline" id="line-243"><code>	VPINSRQ_1_SI_X15(4*8);           \</code></span>
<span class="codeline" id="line-244"><code>	VPINSRQ_1_SI_X11(10*8);          \</code></span>
<span class="codeline" id="line-245"><code>	VINSERTI128 $1, X11, Y15, Y15</code></span>
<span class="codeline" id="line-246"><code></code></span>
<span class="codeline" id="line-247"><code>#define LOAD_MSG_AVX2_6_14_11_0_15_9_3_8_12_13_1_10_2_7_4_5() \</code></span>
<span class="codeline" id="line-248"><code>	VMOVQ_SI_X12(6*8);              \</code></span>
<span class="codeline" id="line-249"><code>	VMOVQ_SI_X11(11*8);             \</code></span>
<span class="codeline" id="line-250"><code>	VPINSRQ_1_SI_X12(14*8);         \</code></span>
<span class="codeline" id="line-251"><code>	VPINSRQ_1_SI_X11_0;             \</code></span>
<span class="codeline" id="line-252"><code>	VINSERTI128 $1, X11, Y12, Y12;  \</code></span>
<span class="codeline" id="line-253"><code>	LOAD_MSG_AVX2_Y13(15, 9, 3, 8); \</code></span>
<span class="codeline" id="line-254"><code>	VMOVQ_SI_X11(1*8);              \</code></span>
<span class="codeline" id="line-255"><code>	VMOVDQU     12*8(SI), X14;      \</code></span>
<span class="codeline" id="line-256"><code>	VPINSRQ_1_SI_X11(10*8);         \</code></span>
<span class="codeline" id="line-257"><code>	VINSERTI128 $1, X11, Y14, Y14;  \</code></span>
<span class="codeline" id="line-258"><code>	VMOVQ_SI_X15(2*8);              \</code></span>
<span class="codeline" id="line-259"><code>	VMOVDQU     4*8(SI), X11;       \</code></span>
<span class="codeline" id="line-260"><code>	VPINSRQ_1_SI_X15(7*8);          \</code></span>
<span class="codeline" id="line-261"><code>	VINSERTI128 $1, X11, Y15, Y15</code></span>
<span class="codeline" id="line-262"><code></code></span>
<span class="codeline" id="line-263"><code>#define LOAD_MSG_AVX2_10_8_7_1_2_4_6_5_15_9_3_13_11_14_12_0() \</code></span>
<span class="codeline" id="line-264"><code>	LOAD_MSG_AVX2_Y12(10, 8, 7, 1);  \</code></span>
<span class="codeline" id="line-265"><code>	VMOVQ_SI_X13(2*8);               \</code></span>
<span class="codeline" id="line-266"><code>	VPSHUFD     $0x4E, 5*8(SI), X11; \</code></span>
<span class="codeline" id="line-267"><code>	VPINSRQ_1_SI_X13(4*8);           \</code></span>
<span class="codeline" id="line-268"><code>	VINSERTI128 $1, X11, Y13, Y13;   \</code></span>
<span class="codeline" id="line-269"><code>	LOAD_MSG_AVX2_Y14(15, 9, 3, 13); \</code></span>
<span class="codeline" id="line-270"><code>	VMOVQ_SI_X15(11*8);              \</code></span>
<span class="codeline" id="line-271"><code>	VMOVQ_SI_X11(12*8);              \</code></span>
<span class="codeline" id="line-272"><code>	VPINSRQ_1_SI_X15(14*8);          \</code></span>
<span class="codeline" id="line-273"><code>	VPINSRQ_1_SI_X11_0;              \</code></span>
<span class="codeline" id="line-274"><code>	VINSERTI128 $1, X11, Y15, Y15</code></span>
<span class="codeline" id="line-275"><code></code></span>
<span class="codeline" id="line-276"><code>// func hashBlocksAVX2(h *[8]uint64, c *[2]uint64, flag uint64, blocks []byte)</code></span>
<span class="codeline" id="line-277"><code>TEXT ·hashBlocksAVX2(SB), 4, $320-48 // frame size = 288 + 32 byte alignment</code></span>
<span class="codeline" id="line-278"><code>	MOVQ h+0(FP), AX</code></span>
<span class="codeline" id="line-279"><code>	MOVQ c+8(FP), BX</code></span>
<span class="codeline" id="line-280"><code>	MOVQ flag+16(FP), CX</code></span>
<span class="codeline" id="line-281"><code>	MOVQ blocks_base+24(FP), SI</code></span>
<span class="codeline" id="line-282"><code>	MOVQ blocks_len+32(FP), DI</code></span>
<span class="codeline" id="line-283"><code></code></span>
<span class="codeline" id="line-284"><code>	MOVQ SP, DX</code></span>
<span class="codeline" id="line-285"><code>	ADDQ $31, DX</code></span>
<span class="codeline" id="line-286"><code>	ANDQ $~31, DX</code></span>
<span class="codeline" id="line-287"><code></code></span>
<span class="codeline" id="line-288"><code>	MOVQ CX, 16(DX)</code></span>
<span class="codeline" id="line-289"><code>	XORQ CX, CX</code></span>
<span class="codeline" id="line-290"><code>	MOVQ CX, 24(DX)</code></span>
<span class="codeline" id="line-291"><code></code></span>
<span class="codeline" id="line-292"><code>	VMOVDQU ·AVX2_c40&lt;&gt;(SB), Y4</code></span>
<span class="codeline" id="line-293"><code>	VMOVDQU ·AVX2_c48&lt;&gt;(SB), Y5</code></span>
<span class="codeline" id="line-294"><code></code></span>
<span class="codeline" id="line-295"><code>	VMOVDQU 0(AX), Y8</code></span>
<span class="codeline" id="line-296"><code>	VMOVDQU 32(AX), Y9</code></span>
<span class="codeline" id="line-297"><code>	VMOVDQU ·AVX2_iv0&lt;&gt;(SB), Y6</code></span>
<span class="codeline" id="line-298"><code>	VMOVDQU ·AVX2_iv1&lt;&gt;(SB), Y7</code></span>
<span class="codeline" id="line-299"><code></code></span>
<span class="codeline" id="line-300"><code>	MOVQ 0(BX), R8</code></span>
<span class="codeline" id="line-301"><code>	MOVQ 8(BX), R9</code></span>
<span class="codeline" id="line-302"><code>	MOVQ R9, 8(DX)</code></span>
<span class="codeline" id="line-303"><code></code></span>
<span class="codeline" id="line-304"><code>loop:</code></span>
<span class="codeline" id="line-305"><code>	ADDQ $128, R8</code></span>
<span class="codeline" id="line-306"><code>	MOVQ R8, 0(DX)</code></span>
<span class="codeline" id="line-307"><code>	CMPQ R8, $128</code></span>
<span class="codeline" id="line-308"><code>	JGE  noinc</code></span>
<span class="codeline" id="line-309"><code>	INCQ R9</code></span>
<span class="codeline" id="line-310"><code>	MOVQ R9, 8(DX)</code></span>
<span class="codeline" id="line-311"><code></code></span>
<span class="codeline" id="line-312"><code>noinc:</code></span>
<span class="codeline" id="line-313"><code>	VMOVDQA Y8, Y0</code></span>
<span class="codeline" id="line-314"><code>	VMOVDQA Y9, Y1</code></span>
<span class="codeline" id="line-315"><code>	VMOVDQA Y6, Y2</code></span>
<span class="codeline" id="line-316"><code>	VPXOR   0(DX), Y7, Y3</code></span>
<span class="codeline" id="line-317"><code></code></span>
<span class="codeline" id="line-318"><code>	LOAD_MSG_AVX2_0_2_4_6_1_3_5_7_8_10_12_14_9_11_13_15()</code></span>
<span class="codeline" id="line-319"><code>	VMOVDQA Y12, 32(DX)</code></span>
<span class="codeline" id="line-320"><code>	VMOVDQA Y13, 64(DX)</code></span>
<span class="codeline" id="line-321"><code>	VMOVDQA Y14, 96(DX)</code></span>
<span class="codeline" id="line-322"><code>	VMOVDQA Y15, 128(DX)</code></span>
<span class="codeline" id="line-323"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-324"><code>	LOAD_MSG_AVX2_14_4_9_13_10_8_15_6_1_0_11_5_12_2_7_3()</code></span>
<span class="codeline" id="line-325"><code>	VMOVDQA Y12, 160(DX)</code></span>
<span class="codeline" id="line-326"><code>	VMOVDQA Y13, 192(DX)</code></span>
<span class="codeline" id="line-327"><code>	VMOVDQA Y14, 224(DX)</code></span>
<span class="codeline" id="line-328"><code>	VMOVDQA Y15, 256(DX)</code></span>
<span class="codeline" id="line-329"><code></code></span>
<span class="codeline" id="line-330"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-331"><code>	LOAD_MSG_AVX2_11_12_5_15_8_0_2_13_10_3_7_9_14_6_1_4()</code></span>
<span class="codeline" id="line-332"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-333"><code>	LOAD_MSG_AVX2_7_3_13_11_9_1_12_14_2_5_4_15_6_10_0_8()</code></span>
<span class="codeline" id="line-334"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-335"><code>	LOAD_MSG_AVX2_9_5_2_10_0_7_4_15_14_11_6_3_1_12_8_13()</code></span>
<span class="codeline" id="line-336"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-337"><code>	LOAD_MSG_AVX2_2_6_0_8_12_10_11_3_4_7_15_1_13_5_14_9()</code></span>
<span class="codeline" id="line-338"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-339"><code>	LOAD_MSG_AVX2_12_1_14_4_5_15_13_10_0_6_9_8_7_3_2_11()</code></span>
<span class="codeline" id="line-340"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-341"><code>	LOAD_MSG_AVX2_13_7_12_3_11_14_1_9_5_15_8_2_0_4_6_10()</code></span>
<span class="codeline" id="line-342"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-343"><code>	LOAD_MSG_AVX2_6_14_11_0_15_9_3_8_12_13_1_10_2_7_4_5()</code></span>
<span class="codeline" id="line-344"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-345"><code>	LOAD_MSG_AVX2_10_8_7_1_2_4_6_5_15_9_3_13_11_14_12_0()</code></span>
<span class="codeline" id="line-346"><code>	ROUND_AVX2(Y12, Y13, Y14, Y15, Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-347"><code></code></span>
<span class="codeline" id="line-348"><code>	ROUND_AVX2(32(DX), 64(DX), 96(DX), 128(DX), Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-349"><code>	ROUND_AVX2(160(DX), 192(DX), 224(DX), 256(DX), Y10, Y4, Y5)</code></span>
<span class="codeline" id="line-350"><code></code></span>
<span class="codeline" id="line-351"><code>	VPXOR Y0, Y8, Y8</code></span>
<span class="codeline" id="line-352"><code>	VPXOR Y1, Y9, Y9</code></span>
<span class="codeline" id="line-353"><code>	VPXOR Y2, Y8, Y8</code></span>
<span class="codeline" id="line-354"><code>	VPXOR Y3, Y9, Y9</code></span>
<span class="codeline" id="line-355"><code></code></span>
<span class="codeline" id="line-356"><code>	LEAQ 128(SI), SI</code></span>
<span class="codeline" id="line-357"><code>	SUBQ $128, DI</code></span>
<span class="codeline" id="line-358"><code>	JNE  loop</code></span>
<span class="codeline" id="line-359"><code></code></span>
<span class="codeline" id="line-360"><code>	MOVQ R8, 0(BX)</code></span>
<span class="codeline" id="line-361"><code>	MOVQ R9, 8(BX)</code></span>
<span class="codeline" id="line-362"><code></code></span>
<span class="codeline" id="line-363"><code>	VMOVDQU Y8, 0(AX)</code></span>
<span class="codeline" id="line-364"><code>	VMOVDQU Y9, 32(AX)</code></span>
<span class="codeline" id="line-365"><code>	VZEROUPPER</code></span>
<span class="codeline" id="line-366"><code></code></span>
<span class="codeline" id="line-367"><code>	RET</code></span>
<span class="codeline" id="line-368"><code></code></span>
<span class="codeline" id="line-369"><code>#define VPUNPCKLQDQ_X2_X2_X15 BYTE $0xC5; BYTE $0x69; BYTE $0x6C; BYTE $0xFA</code></span>
<span class="codeline" id="line-370"><code>#define VPUNPCKLQDQ_X3_X3_X15 BYTE $0xC5; BYTE $0x61; BYTE $0x6C; BYTE $0xFB</code></span>
<span class="codeline" id="line-371"><code>#define VPUNPCKLQDQ_X7_X7_X15 BYTE $0xC5; BYTE $0x41; BYTE $0x6C; BYTE $0xFF</code></span>
<span class="codeline" id="line-372"><code>#define VPUNPCKLQDQ_X13_X13_X15 BYTE $0xC4; BYTE $0x41; BYTE $0x11; BYTE $0x6C; BYTE $0xFD</code></span>
<span class="codeline" id="line-373"><code>#define VPUNPCKLQDQ_X14_X14_X15 BYTE $0xC4; BYTE $0x41; BYTE $0x09; BYTE $0x6C; BYTE $0xFE</code></span>
<span class="codeline" id="line-374"><code></code></span>
<span class="codeline" id="line-375"><code>#define VPUNPCKHQDQ_X15_X2_X2 BYTE $0xC4; BYTE $0xC1; BYTE $0x69; BYTE $0x6D; BYTE $0xD7</code></span>
<span class="codeline" id="line-376"><code>#define VPUNPCKHQDQ_X15_X3_X3 BYTE $0xC4; BYTE $0xC1; BYTE $0x61; BYTE $0x6D; BYTE $0xDF</code></span>
<span class="codeline" id="line-377"><code>#define VPUNPCKHQDQ_X15_X6_X6 BYTE $0xC4; BYTE $0xC1; BYTE $0x49; BYTE $0x6D; BYTE $0xF7</code></span>
<span class="codeline" id="line-378"><code>#define VPUNPCKHQDQ_X15_X7_X7 BYTE $0xC4; BYTE $0xC1; BYTE $0x41; BYTE $0x6D; BYTE $0xFF</code></span>
<span class="codeline" id="line-379"><code>#define VPUNPCKHQDQ_X15_X3_X2 BYTE $0xC4; BYTE $0xC1; BYTE $0x61; BYTE $0x6D; BYTE $0xD7</code></span>
<span class="codeline" id="line-380"><code>#define VPUNPCKHQDQ_X15_X7_X6 BYTE $0xC4; BYTE $0xC1; BYTE $0x41; BYTE $0x6D; BYTE $0xF7</code></span>
<span class="codeline" id="line-381"><code>#define VPUNPCKHQDQ_X15_X13_X3 BYTE $0xC4; BYTE $0xC1; BYTE $0x11; BYTE $0x6D; BYTE $0xDF</code></span>
<span class="codeline" id="line-382"><code>#define VPUNPCKHQDQ_X15_X13_X7 BYTE $0xC4; BYTE $0xC1; BYTE $0x11; BYTE $0x6D; BYTE $0xFF</code></span>
<span class="codeline" id="line-383"><code></code></span>
<span class="codeline" id="line-384"><code>#define SHUFFLE_AVX() \</code></span>
<span class="codeline" id="line-385"><code>	VMOVDQA X6, X13;         \</code></span>
<span class="codeline" id="line-386"><code>	VMOVDQA X2, X14;         \</code></span>
<span class="codeline" id="line-387"><code>	VMOVDQA X4, X6;          \</code></span>
<span class="codeline" id="line-388"><code>	VPUNPCKLQDQ_X13_X13_X15; \</code></span>
<span class="codeline" id="line-389"><code>	VMOVDQA X5, X4;          \</code></span>
<span class="codeline" id="line-390"><code>	VMOVDQA X6, X5;          \</code></span>
<span class="codeline" id="line-391"><code>	VPUNPCKHQDQ_X15_X7_X6;   \</code></span>
<span class="codeline" id="line-392"><code>	VPUNPCKLQDQ_X7_X7_X15;   \</code></span>
<span class="codeline" id="line-393"><code>	VPUNPCKHQDQ_X15_X13_X7;  \</code></span>
<span class="codeline" id="line-394"><code>	VPUNPCKLQDQ_X3_X3_X15;   \</code></span>
<span class="codeline" id="line-395"><code>	VPUNPCKHQDQ_X15_X2_X2;   \</code></span>
<span class="codeline" id="line-396"><code>	VPUNPCKLQDQ_X14_X14_X15; \</code></span>
<span class="codeline" id="line-397"><code>	VPUNPCKHQDQ_X15_X3_X3;   \</code></span>
<span class="codeline" id="line-398"><code></code></span>
<span class="codeline" id="line-399"><code>#define SHUFFLE_AVX_INV() \</code></span>
<span class="codeline" id="line-400"><code>	VMOVDQA X2, X13;         \</code></span>
<span class="codeline" id="line-401"><code>	VMOVDQA X4, X14;         \</code></span>
<span class="codeline" id="line-402"><code>	VPUNPCKLQDQ_X2_X2_X15;   \</code></span>
<span class="codeline" id="line-403"><code>	VMOVDQA X5, X4;          \</code></span>
<span class="codeline" id="line-404"><code>	VPUNPCKHQDQ_X15_X3_X2;   \</code></span>
<span class="codeline" id="line-405"><code>	VMOVDQA X14, X5;         \</code></span>
<span class="codeline" id="line-406"><code>	VPUNPCKLQDQ_X3_X3_X15;   \</code></span>
<span class="codeline" id="line-407"><code>	VMOVDQA X6, X14;         \</code></span>
<span class="codeline" id="line-408"><code>	VPUNPCKHQDQ_X15_X13_X3;  \</code></span>
<span class="codeline" id="line-409"><code>	VPUNPCKLQDQ_X7_X7_X15;   \</code></span>
<span class="codeline" id="line-410"><code>	VPUNPCKHQDQ_X15_X6_X6;   \</code></span>
<span class="codeline" id="line-411"><code>	VPUNPCKLQDQ_X14_X14_X15; \</code></span>
<span class="codeline" id="line-412"><code>	VPUNPCKHQDQ_X15_X7_X7;   \</code></span>
<span class="codeline" id="line-413"><code></code></span>
<span class="codeline" id="line-414"><code>#define HALF_ROUND_AVX(v0, v1, v2, v3, v4, v5, v6, v7, m0, m1, m2, m3, t0, c40, c48) \</code></span>
<span class="codeline" id="line-415"><code>	VPADDQ  m0, v0, v0;   \</code></span>
<span class="codeline" id="line-416"><code>	VPADDQ  v2, v0, v0;   \</code></span>
<span class="codeline" id="line-417"><code>	VPADDQ  m1, v1, v1;   \</code></span>
<span class="codeline" id="line-418"><code>	VPADDQ  v3, v1, v1;   \</code></span>
<span class="codeline" id="line-419"><code>	VPXOR   v0, v6, v6;   \</code></span>
<span class="codeline" id="line-420"><code>	VPXOR   v1, v7, v7;   \</code></span>
<span class="codeline" id="line-421"><code>	VPSHUFD $-79, v6, v6; \</code></span>
<span class="codeline" id="line-422"><code>	VPSHUFD $-79, v7, v7; \</code></span>
<span class="codeline" id="line-423"><code>	VPADDQ  v6, v4, v4;   \</code></span>
<span class="codeline" id="line-424"><code>	VPADDQ  v7, v5, v5;   \</code></span>
<span class="codeline" id="line-425"><code>	VPXOR   v4, v2, v2;   \</code></span>
<span class="codeline" id="line-426"><code>	VPXOR   v5, v3, v3;   \</code></span>
<span class="codeline" id="line-427"><code>	VPSHUFB c40, v2, v2;  \</code></span>
<span class="codeline" id="line-428"><code>	VPSHUFB c40, v3, v3;  \</code></span>
<span class="codeline" id="line-429"><code>	VPADDQ  m2, v0, v0;   \</code></span>
<span class="codeline" id="line-430"><code>	VPADDQ  v2, v0, v0;   \</code></span>
<span class="codeline" id="line-431"><code>	VPADDQ  m3, v1, v1;   \</code></span>
<span class="codeline" id="line-432"><code>	VPADDQ  v3, v1, v1;   \</code></span>
<span class="codeline" id="line-433"><code>	VPXOR   v0, v6, v6;   \</code></span>
<span class="codeline" id="line-434"><code>	VPXOR   v1, v7, v7;   \</code></span>
<span class="codeline" id="line-435"><code>	VPSHUFB c48, v6, v6;  \</code></span>
<span class="codeline" id="line-436"><code>	VPSHUFB c48, v7, v7;  \</code></span>
<span class="codeline" id="line-437"><code>	VPADDQ  v6, v4, v4;   \</code></span>
<span class="codeline" id="line-438"><code>	VPADDQ  v7, v5, v5;   \</code></span>
<span class="codeline" id="line-439"><code>	VPXOR   v4, v2, v2;   \</code></span>
<span class="codeline" id="line-440"><code>	VPXOR   v5, v3, v3;   \</code></span>
<span class="codeline" id="line-441"><code>	VPADDQ  v2, v2, t0;   \</code></span>
<span class="codeline" id="line-442"><code>	VPSRLQ  $63, v2, v2;  \</code></span>
<span class="codeline" id="line-443"><code>	VPXOR   t0, v2, v2;   \</code></span>
<span class="codeline" id="line-444"><code>	VPADDQ  v3, v3, t0;   \</code></span>
<span class="codeline" id="line-445"><code>	VPSRLQ  $63, v3, v3;  \</code></span>
<span class="codeline" id="line-446"><code>	VPXOR   t0, v3, v3</code></span>
<span class="codeline" id="line-447"><code></code></span>
<span class="codeline" id="line-448"><code>// load msg: X12 = (i0, i1), X13 = (i2, i3), X14 = (i4, i5), X15 = (i6, i7)</code></span>
<span class="codeline" id="line-449"><code>// i0, i1, i2, i3, i4, i5, i6, i7 must not be 0</code></span>
<span class="codeline" id="line-450"><code>#define LOAD_MSG_AVX(i0, i1, i2, i3, i4, i5, i6, i7) \</code></span>
<span class="codeline" id="line-451"><code>	VMOVQ_SI_X12(i0*8);     \</code></span>
<span class="codeline" id="line-452"><code>	VMOVQ_SI_X13(i2*8);     \</code></span>
<span class="codeline" id="line-453"><code>	VMOVQ_SI_X14(i4*8);     \</code></span>
<span class="codeline" id="line-454"><code>	VMOVQ_SI_X15(i6*8);     \</code></span>
<span class="codeline" id="line-455"><code>	VPINSRQ_1_SI_X12(i1*8); \</code></span>
<span class="codeline" id="line-456"><code>	VPINSRQ_1_SI_X13(i3*8); \</code></span>
<span class="codeline" id="line-457"><code>	VPINSRQ_1_SI_X14(i5*8); \</code></span>
<span class="codeline" id="line-458"><code>	VPINSRQ_1_SI_X15(i7*8)</code></span>
<span class="codeline" id="line-459"><code></code></span>
<span class="codeline" id="line-460"><code>// load msg: X12 = (0, 2), X13 = (4, 6), X14 = (1, 3), X15 = (5, 7)</code></span>
<span class="codeline" id="line-461"><code>#define LOAD_MSG_AVX_0_2_4_6_1_3_5_7() \</code></span>
<span class="codeline" id="line-462"><code>	VMOVQ_SI_X12_0;        \</code></span>
<span class="codeline" id="line-463"><code>	VMOVQ_SI_X13(4*8);     \</code></span>
<span class="codeline" id="line-464"><code>	VMOVQ_SI_X14(1*8);     \</code></span>
<span class="codeline" id="line-465"><code>	VMOVQ_SI_X15(5*8);     \</code></span>
<span class="codeline" id="line-466"><code>	VPINSRQ_1_SI_X12(2*8); \</code></span>
<span class="codeline" id="line-467"><code>	VPINSRQ_1_SI_X13(6*8); \</code></span>
<span class="codeline" id="line-468"><code>	VPINSRQ_1_SI_X14(3*8); \</code></span>
<span class="codeline" id="line-469"><code>	VPINSRQ_1_SI_X15(7*8)</code></span>
<span class="codeline" id="line-470"><code></code></span>
<span class="codeline" id="line-471"><code>// load msg: X12 = (1, 0), X13 = (11, 5), X14 = (12, 2), X15 = (7, 3)</code></span>
<span class="codeline" id="line-472"><code>#define LOAD_MSG_AVX_1_0_11_5_12_2_7_3() \</code></span>
<span class="codeline" id="line-473"><code>	VPSHUFD $0x4E, 0*8(SI), X12; \</code></span>
<span class="codeline" id="line-474"><code>	VMOVQ_SI_X13(11*8);          \</code></span>
<span class="codeline" id="line-475"><code>	VMOVQ_SI_X14(12*8);          \</code></span>
<span class="codeline" id="line-476"><code>	VMOVQ_SI_X15(7*8);           \</code></span>
<span class="codeline" id="line-477"><code>	VPINSRQ_1_SI_X13(5*8);       \</code></span>
<span class="codeline" id="line-478"><code>	VPINSRQ_1_SI_X14(2*8);       \</code></span>
<span class="codeline" id="line-479"><code>	VPINSRQ_1_SI_X15(3*8)</code></span>
<span class="codeline" id="line-480"><code></code></span>
<span class="codeline" id="line-481"><code>// load msg: X12 = (11, 12), X13 = (5, 15), X14 = (8, 0), X15 = (2, 13)</code></span>
<span class="codeline" id="line-482"><code>#define LOAD_MSG_AVX_11_12_5_15_8_0_2_13() \</code></span>
<span class="codeline" id="line-483"><code>	VMOVDQU 11*8(SI), X12;  \</code></span>
<span class="codeline" id="line-484"><code>	VMOVQ_SI_X13(5*8);      \</code></span>
<span class="codeline" id="line-485"><code>	VMOVQ_SI_X14(8*8);      \</code></span>
<span class="codeline" id="line-486"><code>	VMOVQ_SI_X15(2*8);      \</code></span>
<span class="codeline" id="line-487"><code>	VPINSRQ_1_SI_X13(15*8); \</code></span>
<span class="codeline" id="line-488"><code>	VPINSRQ_1_SI_X14_0;     \</code></span>
<span class="codeline" id="line-489"><code>	VPINSRQ_1_SI_X15(13*8)</code></span>
<span class="codeline" id="line-490"><code></code></span>
<span class="codeline" id="line-491"><code>// load msg: X12 = (2, 5), X13 = (4, 15), X14 = (6, 10), X15 = (0, 8)</code></span>
<span class="codeline" id="line-492"><code>#define LOAD_MSG_AVX_2_5_4_15_6_10_0_8() \</code></span>
<span class="codeline" id="line-493"><code>	VMOVQ_SI_X12(2*8);      \</code></span>
<span class="codeline" id="line-494"><code>	VMOVQ_SI_X13(4*8);      \</code></span>
<span class="codeline" id="line-495"><code>	VMOVQ_SI_X14(6*8);      \</code></span>
<span class="codeline" id="line-496"><code>	VMOVQ_SI_X15_0;         \</code></span>
<span class="codeline" id="line-497"><code>	VPINSRQ_1_SI_X12(5*8);  \</code></span>
<span class="codeline" id="line-498"><code>	VPINSRQ_1_SI_X13(15*8); \</code></span>
<span class="codeline" id="line-499"><code>	VPINSRQ_1_SI_X14(10*8); \</code></span>
<span class="codeline" id="line-500"><code>	VPINSRQ_1_SI_X15(8*8)</code></span>
<span class="codeline" id="line-501"><code></code></span>
<span class="codeline" id="line-502"><code>// load msg: X12 = (9, 5), X13 = (2, 10), X14 = (0, 7), X15 = (4, 15)</code></span>
<span class="codeline" id="line-503"><code>#define LOAD_MSG_AVX_9_5_2_10_0_7_4_15() \</code></span>
<span class="codeline" id="line-504"><code>	VMOVQ_SI_X12(9*8);      \</code></span>
<span class="codeline" id="line-505"><code>	VMOVQ_SI_X13(2*8);      \</code></span>
<span class="codeline" id="line-506"><code>	VMOVQ_SI_X14_0;         \</code></span>
<span class="codeline" id="line-507"><code>	VMOVQ_SI_X15(4*8);      \</code></span>
<span class="codeline" id="line-508"><code>	VPINSRQ_1_SI_X12(5*8);  \</code></span>
<span class="codeline" id="line-509"><code>	VPINSRQ_1_SI_X13(10*8); \</code></span>
<span class="codeline" id="line-510"><code>	VPINSRQ_1_SI_X14(7*8);  \</code></span>
<span class="codeline" id="line-511"><code>	VPINSRQ_1_SI_X15(15*8)</code></span>
<span class="codeline" id="line-512"><code></code></span>
<span class="codeline" id="line-513"><code>// load msg: X12 = (2, 6), X13 = (0, 8), X14 = (12, 10), X15 = (11, 3)</code></span>
<span class="codeline" id="line-514"><code>#define LOAD_MSG_AVX_2_6_0_8_12_10_11_3() \</code></span>
<span class="codeline" id="line-515"><code>	VMOVQ_SI_X12(2*8);      \</code></span>
<span class="codeline" id="line-516"><code>	VMOVQ_SI_X13_0;         \</code></span>
<span class="codeline" id="line-517"><code>	VMOVQ_SI_X14(12*8);     \</code></span>
<span class="codeline" id="line-518"><code>	VMOVQ_SI_X15(11*8);     \</code></span>
<span class="codeline" id="line-519"><code>	VPINSRQ_1_SI_X12(6*8);  \</code></span>
<span class="codeline" id="line-520"><code>	VPINSRQ_1_SI_X13(8*8);  \</code></span>
<span class="codeline" id="line-521"><code>	VPINSRQ_1_SI_X14(10*8); \</code></span>
<span class="codeline" id="line-522"><code>	VPINSRQ_1_SI_X15(3*8)</code></span>
<span class="codeline" id="line-523"><code></code></span>
<span class="codeline" id="line-524"><code>// load msg: X12 = (0, 6), X13 = (9, 8), X14 = (7, 3), X15 = (2, 11)</code></span>
<span class="codeline" id="line-525"><code>#define LOAD_MSG_AVX_0_6_9_8_7_3_2_11() \</code></span>
<span class="codeline" id="line-526"><code>	MOVQ    0*8(SI), X12;        \</code></span>
<span class="codeline" id="line-527"><code>	VPSHUFD $0x4E, 8*8(SI), X13; \</code></span>
<span class="codeline" id="line-528"><code>	MOVQ    7*8(SI), X14;        \</code></span>
<span class="codeline" id="line-529"><code>	MOVQ    2*8(SI), X15;        \</code></span>
<span class="codeline" id="line-530"><code>	VPINSRQ_1_SI_X12(6*8);       \</code></span>
<span class="codeline" id="line-531"><code>	VPINSRQ_1_SI_X14(3*8);       \</code></span>
<span class="codeline" id="line-532"><code>	VPINSRQ_1_SI_X15(11*8)</code></span>
<span class="codeline" id="line-533"><code></code></span>
<span class="codeline" id="line-534"><code>// load msg: X12 = (6, 14), X13 = (11, 0), X14 = (15, 9), X15 = (3, 8)</code></span>
<span class="codeline" id="line-535"><code>#define LOAD_MSG_AVX_6_14_11_0_15_9_3_8() \</code></span>
<span class="codeline" id="line-536"><code>	MOVQ 6*8(SI), X12;      \</code></span>
<span class="codeline" id="line-537"><code>	MOVQ 11*8(SI), X13;     \</code></span>
<span class="codeline" id="line-538"><code>	MOVQ 15*8(SI), X14;     \</code></span>
<span class="codeline" id="line-539"><code>	MOVQ 3*8(SI), X15;      \</code></span>
<span class="codeline" id="line-540"><code>	VPINSRQ_1_SI_X12(14*8); \</code></span>
<span class="codeline" id="line-541"><code>	VPINSRQ_1_SI_X13_0;     \</code></span>
<span class="codeline" id="line-542"><code>	VPINSRQ_1_SI_X14(9*8);  \</code></span>
<span class="codeline" id="line-543"><code>	VPINSRQ_1_SI_X15(8*8)</code></span>
<span class="codeline" id="line-544"><code></code></span>
<span class="codeline" id="line-545"><code>// load msg: X12 = (5, 15), X13 = (8, 2), X14 = (0, 4), X15 = (6, 10)</code></span>
<span class="codeline" id="line-546"><code>#define LOAD_MSG_AVX_5_15_8_2_0_4_6_10() \</code></span>
<span class="codeline" id="line-547"><code>	MOVQ 5*8(SI), X12;      \</code></span>
<span class="codeline" id="line-548"><code>	MOVQ 8*8(SI), X13;      \</code></span>
<span class="codeline" id="line-549"><code>	MOVQ 0*8(SI), X14;      \</code></span>
<span class="codeline" id="line-550"><code>	MOVQ 6*8(SI), X15;      \</code></span>
<span class="codeline" id="line-551"><code>	VPINSRQ_1_SI_X12(15*8); \</code></span>
<span class="codeline" id="line-552"><code>	VPINSRQ_1_SI_X13(2*8);  \</code></span>
<span class="codeline" id="line-553"><code>	VPINSRQ_1_SI_X14(4*8);  \</code></span>
<span class="codeline" id="line-554"><code>	VPINSRQ_1_SI_X15(10*8)</code></span>
<span class="codeline" id="line-555"><code></code></span>
<span class="codeline" id="line-556"><code>// load msg: X12 = (12, 13), X13 = (1, 10), X14 = (2, 7), X15 = (4, 5)</code></span>
<span class="codeline" id="line-557"><code>#define LOAD_MSG_AVX_12_13_1_10_2_7_4_5() \</code></span>
<span class="codeline" id="line-558"><code>	VMOVDQU 12*8(SI), X12;  \</code></span>
<span class="codeline" id="line-559"><code>	MOVQ    1*8(SI), X13;   \</code></span>
<span class="codeline" id="line-560"><code>	MOVQ    2*8(SI), X14;   \</code></span>
<span class="codeline" id="line-561"><code>	VPINSRQ_1_SI_X13(10*8); \</code></span>
<span class="codeline" id="line-562"><code>	VPINSRQ_1_SI_X14(7*8);  \</code></span>
<span class="codeline" id="line-563"><code>	VMOVDQU 4*8(SI), X15</code></span>
<span class="codeline" id="line-564"><code></code></span>
<span class="codeline" id="line-565"><code>// load msg: X12 = (15, 9), X13 = (3, 13), X14 = (11, 14), X15 = (12, 0)</code></span>
<span class="codeline" id="line-566"><code>#define LOAD_MSG_AVX_15_9_3_13_11_14_12_0() \</code></span>
<span class="codeline" id="line-567"><code>	MOVQ 15*8(SI), X12;     \</code></span>
<span class="codeline" id="line-568"><code>	MOVQ 3*8(SI), X13;      \</code></span>
<span class="codeline" id="line-569"><code>	MOVQ 11*8(SI), X14;     \</code></span>
<span class="codeline" id="line-570"><code>	MOVQ 12*8(SI), X15;     \</code></span>
<span class="codeline" id="line-571"><code>	VPINSRQ_1_SI_X12(9*8);  \</code></span>
<span class="codeline" id="line-572"><code>	VPINSRQ_1_SI_X13(13*8); \</code></span>
<span class="codeline" id="line-573"><code>	VPINSRQ_1_SI_X14(14*8); \</code></span>
<span class="codeline" id="line-574"><code>	VPINSRQ_1_SI_X15_0</code></span>
<span class="codeline" id="line-575"><code></code></span>
<span class="codeline" id="line-576"><code>// func hashBlocksAVX(h *[8]uint64, c *[2]uint64, flag uint64, blocks []byte)</code></span>
<span class="codeline" id="line-577"><code>TEXT ·hashBlocksAVX(SB), 4, $288-48 // frame size = 272 + 16 byte alignment</code></span>
<span class="codeline" id="line-578"><code>	MOVQ h+0(FP), AX</code></span>
<span class="codeline" id="line-579"><code>	MOVQ c+8(FP), BX</code></span>
<span class="codeline" id="line-580"><code>	MOVQ flag+16(FP), CX</code></span>
<span class="codeline" id="line-581"><code>	MOVQ blocks_base+24(FP), SI</code></span>
<span class="codeline" id="line-582"><code>	MOVQ blocks_len+32(FP), DI</code></span>
<span class="codeline" id="line-583"><code></code></span>
<span class="codeline" id="line-584"><code>	MOVQ SP, R10</code></span>
<span class="codeline" id="line-585"><code>	ADDQ $15, R10</code></span>
<span class="codeline" id="line-586"><code>	ANDQ $~15, R10</code></span>
<span class="codeline" id="line-587"><code></code></span>
<span class="codeline" id="line-588"><code>	VMOVDQU ·AVX_c40&lt;&gt;(SB), X0</code></span>
<span class="codeline" id="line-589"><code>	VMOVDQU ·AVX_c48&lt;&gt;(SB), X1</code></span>
<span class="codeline" id="line-590"><code>	VMOVDQA X0, X8</code></span>
<span class="codeline" id="line-591"><code>	VMOVDQA X1, X9</code></span>
<span class="codeline" id="line-592"><code></code></span>
<span class="codeline" id="line-593"><code>	VMOVDQU ·AVX_iv3&lt;&gt;(SB), X0</code></span>
<span class="codeline" id="line-594"><code>	VMOVDQA X0, 0(R10)</code></span>
<span class="codeline" id="line-595"><code>	XORQ    CX, 0(R10)          // 0(R10) = ·AVX_iv3 ^ (CX || 0)</code></span>
<span class="codeline" id="line-596"><code></code></span>
<span class="codeline" id="line-597"><code>	VMOVDQU 0(AX), X10</code></span>
<span class="codeline" id="line-598"><code>	VMOVDQU 16(AX), X11</code></span>
<span class="codeline" id="line-599"><code>	VMOVDQU 32(AX), X2</code></span>
<span class="codeline" id="line-600"><code>	VMOVDQU 48(AX), X3</code></span>
<span class="codeline" id="line-601"><code></code></span>
<span class="codeline" id="line-602"><code>	MOVQ 0(BX), R8</code></span>
<span class="codeline" id="line-603"><code>	MOVQ 8(BX), R9</code></span>
<span class="codeline" id="line-604"><code></code></span>
<span class="codeline" id="line-605"><code>loop:</code></span>
<span class="codeline" id="line-606"><code>	ADDQ $128, R8</code></span>
<span class="codeline" id="line-607"><code>	CMPQ R8, $128</code></span>
<span class="codeline" id="line-608"><code>	JGE  noinc</code></span>
<span class="codeline" id="line-609"><code>	INCQ R9</code></span>
<span class="codeline" id="line-610"><code></code></span>
<span class="codeline" id="line-611"><code>noinc:</code></span>
<span class="codeline" id="line-612"><code>	VMOVQ_R8_X15</code></span>
<span class="codeline" id="line-613"><code>	VPINSRQ_1_R9_X15</code></span>
<span class="codeline" id="line-614"><code></code></span>
<span class="codeline" id="line-615"><code>	VMOVDQA X10, X0</code></span>
<span class="codeline" id="line-616"><code>	VMOVDQA X11, X1</code></span>
<span class="codeline" id="line-617"><code>	VMOVDQU ·AVX_iv0&lt;&gt;(SB), X4</code></span>
<span class="codeline" id="line-618"><code>	VMOVDQU ·AVX_iv1&lt;&gt;(SB), X5</code></span>
<span class="codeline" id="line-619"><code>	VMOVDQU ·AVX_iv2&lt;&gt;(SB), X6</code></span>
<span class="codeline" id="line-620"><code></code></span>
<span class="codeline" id="line-621"><code>	VPXOR   X15, X6, X6</code></span>
<span class="codeline" id="line-622"><code>	VMOVDQA 0(R10), X7</code></span>
<span class="codeline" id="line-623"><code></code></span>
<span class="codeline" id="line-624"><code>	LOAD_MSG_AVX_0_2_4_6_1_3_5_7()</code></span>
<span class="codeline" id="line-625"><code>	VMOVDQA X12, 16(R10)</code></span>
<span class="codeline" id="line-626"><code>	VMOVDQA X13, 32(R10)</code></span>
<span class="codeline" id="line-627"><code>	VMOVDQA X14, 48(R10)</code></span>
<span class="codeline" id="line-628"><code>	VMOVDQA X15, 64(R10)</code></span>
<span class="codeline" id="line-629"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-630"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-631"><code>	LOAD_MSG_AVX(8, 10, 12, 14, 9, 11, 13, 15)</code></span>
<span class="codeline" id="line-632"><code>	VMOVDQA X12, 80(R10)</code></span>
<span class="codeline" id="line-633"><code>	VMOVDQA X13, 96(R10)</code></span>
<span class="codeline" id="line-634"><code>	VMOVDQA X14, 112(R10)</code></span>
<span class="codeline" id="line-635"><code>	VMOVDQA X15, 128(R10)</code></span>
<span class="codeline" id="line-636"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-637"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-638"><code></code></span>
<span class="codeline" id="line-639"><code>	LOAD_MSG_AVX(14, 4, 9, 13, 10, 8, 15, 6)</code></span>
<span class="codeline" id="line-640"><code>	VMOVDQA X12, 144(R10)</code></span>
<span class="codeline" id="line-641"><code>	VMOVDQA X13, 160(R10)</code></span>
<span class="codeline" id="line-642"><code>	VMOVDQA X14, 176(R10)</code></span>
<span class="codeline" id="line-643"><code>	VMOVDQA X15, 192(R10)</code></span>
<span class="codeline" id="line-644"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-645"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-646"><code>	LOAD_MSG_AVX_1_0_11_5_12_2_7_3()</code></span>
<span class="codeline" id="line-647"><code>	VMOVDQA X12, 208(R10)</code></span>
<span class="codeline" id="line-648"><code>	VMOVDQA X13, 224(R10)</code></span>
<span class="codeline" id="line-649"><code>	VMOVDQA X14, 240(R10)</code></span>
<span class="codeline" id="line-650"><code>	VMOVDQA X15, 256(R10)</code></span>
<span class="codeline" id="line-651"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-652"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-653"><code></code></span>
<span class="codeline" id="line-654"><code>	LOAD_MSG_AVX_11_12_5_15_8_0_2_13()</code></span>
<span class="codeline" id="line-655"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-656"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-657"><code>	LOAD_MSG_AVX(10, 3, 7, 9, 14, 6, 1, 4)</code></span>
<span class="codeline" id="line-658"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-659"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-660"><code></code></span>
<span class="codeline" id="line-661"><code>	LOAD_MSG_AVX(7, 3, 13, 11, 9, 1, 12, 14)</code></span>
<span class="codeline" id="line-662"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-663"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-664"><code>	LOAD_MSG_AVX_2_5_4_15_6_10_0_8()</code></span>
<span class="codeline" id="line-665"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-666"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-667"><code></code></span>
<span class="codeline" id="line-668"><code>	LOAD_MSG_AVX_9_5_2_10_0_7_4_15()</code></span>
<span class="codeline" id="line-669"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-670"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-671"><code>	LOAD_MSG_AVX(14, 11, 6, 3, 1, 12, 8, 13)</code></span>
<span class="codeline" id="line-672"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-673"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-674"><code></code></span>
<span class="codeline" id="line-675"><code>	LOAD_MSG_AVX_2_6_0_8_12_10_11_3()</code></span>
<span class="codeline" id="line-676"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-677"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-678"><code>	LOAD_MSG_AVX(4, 7, 15, 1, 13, 5, 14, 9)</code></span>
<span class="codeline" id="line-679"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-680"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-681"><code></code></span>
<span class="codeline" id="line-682"><code>	LOAD_MSG_AVX(12, 1, 14, 4, 5, 15, 13, 10)</code></span>
<span class="codeline" id="line-683"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-684"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-685"><code>	LOAD_MSG_AVX_0_6_9_8_7_3_2_11()</code></span>
<span class="codeline" id="line-686"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-687"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-688"><code></code></span>
<span class="codeline" id="line-689"><code>	LOAD_MSG_AVX(13, 7, 12, 3, 11, 14, 1, 9)</code></span>
<span class="codeline" id="line-690"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-691"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-692"><code>	LOAD_MSG_AVX_5_15_8_2_0_4_6_10()</code></span>
<span class="codeline" id="line-693"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-694"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-695"><code></code></span>
<span class="codeline" id="line-696"><code>	LOAD_MSG_AVX_6_14_11_0_15_9_3_8()</code></span>
<span class="codeline" id="line-697"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-698"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-699"><code>	LOAD_MSG_AVX_12_13_1_10_2_7_4_5()</code></span>
<span class="codeline" id="line-700"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-701"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-702"><code></code></span>
<span class="codeline" id="line-703"><code>	LOAD_MSG_AVX(10, 8, 7, 1, 2, 4, 6, 5)</code></span>
<span class="codeline" id="line-704"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-705"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-706"><code>	LOAD_MSG_AVX_15_9_3_13_11_14_12_0()</code></span>
<span class="codeline" id="line-707"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, X12, X13, X14, X15, X15, X8, X9)</code></span>
<span class="codeline" id="line-708"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-709"><code></code></span>
<span class="codeline" id="line-710"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, 16(R10), 32(R10), 48(R10), 64(R10), X15, X8, X9)</code></span>
<span class="codeline" id="line-711"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-712"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, 80(R10), 96(R10), 112(R10), 128(R10), X15, X8, X9)</code></span>
<span class="codeline" id="line-713"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-714"><code></code></span>
<span class="codeline" id="line-715"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, 144(R10), 160(R10), 176(R10), 192(R10), X15, X8, X9)</code></span>
<span class="codeline" id="line-716"><code>	SHUFFLE_AVX()</code></span>
<span class="codeline" id="line-717"><code>	HALF_ROUND_AVX(X0, X1, X2, X3, X4, X5, X6, X7, 208(R10), 224(R10), 240(R10), 256(R10), X15, X8, X9)</code></span>
<span class="codeline" id="line-718"><code>	SHUFFLE_AVX_INV()</code></span>
<span class="codeline" id="line-719"><code></code></span>
<span class="codeline" id="line-720"><code>	VMOVDQU 32(AX), X14</code></span>
<span class="codeline" id="line-721"><code>	VMOVDQU 48(AX), X15</code></span>
<span class="codeline" id="line-722"><code>	VPXOR   X0, X10, X10</code></span>
<span class="codeline" id="line-723"><code>	VPXOR   X1, X11, X11</code></span>
<span class="codeline" id="line-724"><code>	VPXOR   X2, X14, X14</code></span>
<span class="codeline" id="line-725"><code>	VPXOR   X3, X15, X15</code></span>
<span class="codeline" id="line-726"><code>	VPXOR   X4, X10, X10</code></span>
<span class="codeline" id="line-727"><code>	VPXOR   X5, X11, X11</code></span>
<span class="codeline" id="line-728"><code>	VPXOR   X6, X14, X2</code></span>
<span class="codeline" id="line-729"><code>	VPXOR   X7, X15, X3</code></span>
<span class="codeline" id="line-730"><code>	VMOVDQU X2, 32(AX)</code></span>
<span class="codeline" id="line-731"><code>	VMOVDQU X3, 48(AX)</code></span>
<span class="codeline" id="line-732"><code></code></span>
<span class="codeline" id="line-733"><code>	LEAQ 128(SI), SI</code></span>
<span class="codeline" id="line-734"><code>	SUBQ $128, DI</code></span>
<span class="codeline" id="line-735"><code>	JNE  loop</code></span>
<span class="codeline" id="line-736"><code></code></span>
<span class="codeline" id="line-737"><code>	VMOVDQU X10, 0(AX)</code></span>
<span class="codeline" id="line-738"><code>	VMOVDQU X11, 16(AX)</code></span>
<span class="codeline" id="line-739"><code></code></span>
<span class="codeline" id="line-740"><code>	MOVQ R8, 0(BX)</code></span>
<span class="codeline" id="line-741"><code>	MOVQ R9, 8(BX)</code></span>
<span class="codeline" id="line-742"><code>	VZEROUPPER</code></span>
<span class="codeline" id="line-743"><code></code></span>
<span class="codeline" id="line-744"><code>	RET</code></span>
</pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>