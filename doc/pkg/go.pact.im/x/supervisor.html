<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: go.pact.im/x/supervisor</title>
<link href="../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>supervisor</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-go.pact.im/x/supervisor">go.pact.im/x/supervisor</a><i> (on <a href="https://pkg.go.dev/go.pact.im/x/supervisor" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/go.pact.im/x/supervisor.html">9 packages</a>, and imported by 0 packages

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../src/go.pact.im/x/supervisor/errors.go.html">errors.go</a></span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/supervisor/options.go.html">options.go</a></span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/supervisor/restart.go.html">restart.go</a></span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/supervisor/startstop.go.html">startstop.go</a></span>
	<input type='checkbox' checked class="fold" id="file-4-fold-content"><label for="file-4-fold-content">  <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#doc">d</a> <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html">supervisor.go</a></label><span id='file-4-fold-content-items' class="fold-items">
<span class="md-text">		Package supervisor provides a supervisor implementation for starting,
		stopping, and monitoring its child processes.</span>
</span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/supervisor/table.go.html">table.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 5, in which 4 are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Iterator" data-popularity="325">	<input type='checkbox' class="fold" id="Iterator-fold-content"><label for="Iterator-fold-content"> <a href="../../../use/go.pact.im/x/supervisor..Iterator.html">type</a> <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-19">Iterator</a>[K, V] <b><i>(interface)</i></b></label><span id='Iterator-fold-content-docs' class="fold-docs">

		Type Parameters:
			K: <a href="../../builtin.html#name-comparable">comparable</a>
			V: <a href="../../builtin.html#name-any">any</a>

<span class="md-text">		Iterator iterates over key and value pairs in the Table. It follows the
		semantics of the standard sql.Rows type and does not necessarily correspond
		to any consistent snapshot of the Table’s contents.</span>

		<input type='checkbox' class="fold" id="Iterator-fold-methods"><label for="Iterator-fold-methods">Methods (<i>total 4, all are exported</i>)</label><span id='Iterator-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Iterator-fold-method-Close"><label for="Iterator-fold-method-Close">( Iterator[K, V]) <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-31">Close</a>() <a href="../../builtin.html#name-error">error</a></label><span id='Iterator-fold-method-Close-docs' class="fold-docs">
<span class="md-text">				Close closes the iterator.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Iterator-fold-method-Err"><label for="Iterator-fold-method-Err">( Iterator[K, V]) <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-29">Err</a>() <a href="../../builtin.html#name-error">error</a></label><span id='Iterator-fold-method-Err-docs' class="fold-docs">
<span class="md-text">				Err returns any error that occurred during iteration.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Iterator-fold-method-Get"><label for="Iterator-fold-method-Get">( Iterator[K, V]) <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-26">Get</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) (K, V, <a href="../../builtin.html#name-error">error</a>)</label><span id='Iterator-fold-method-Get-docs' class="fold-docs">
<span class="md-text">				Get returns the key and value for the current iteration.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Iterator-fold-method-Next"><label for="Iterator-fold-method-Next">( Iterator[K, V]) <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-23">Next</a>() <a href="../../builtin.html#name-bool">bool</a></label><span id='Iterator-fold-method-Next-docs' class="fold-docs">
<span class="md-text">				Next prepares the value for the next iteration. It returns true on
				success, and false if there is no next value. Consult Err to check
				whether iterator successfully reached the end or an error occurred.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Iterator-fold-impls"><label for="Iterator-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Iterator-fold-impls-items' class="fold-items"><span>
			 Iterator : io.<a href="../../io.html#name-Closer">Closer</a></span></span>
		<input type='checkbox' class="fold" id="Iterator-fold-results"><label for="Iterator-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Iterator-fold-results-items' class="fold-items"><span>
			func <a href="#name-Table">Table</a>[K, V].<a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-13">Iter</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) (<b>Iterator</b>[K, V], <a href="../../builtin.html#name-error">error</a>)</span></span>

</span></div><div class="anchor type-res" id="name-Options" data-popularity="85">	<input type='checkbox' class="fold" id="Options-fold-content"><label for="Options-fold-content"> <a href="../../../use/go.pact.im/x/supervisor..Options.html">type</a> <a href="../../../src/go.pact.im/x/supervisor/options.go.html#line-8">Options</a> <i>(struct)</i></label><span id='Options-fold-content-docs' class="fold-docs">
<span class="md-text">		Options is a set of options for supervisor constructor.</span>

		<input type='checkbox' class="fold" id="Options-fold-fields"><label for="Options-fold-fields">Fields (<i>only one, which is exported</i>)</label><span id='Options-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Options-fold-field-Clock"><label for="Options-fold-field-Clock"><a href="../../../src/go.pact.im/x/supervisor/options.go.html#line-10">Clock</a> <i>*<a href="clock.html">clock</a>.<a href="clock.html#name-Clock">Clock</a></i></label><span id='Options-fold-field-Clock-docs' class="fold-docs">
<span class="md-text">				Clock is the clock to use. Defaults to system clock.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Options-fold-methods"><label for="Options-fold-methods">Methods (<i>only one, which is unexported</i>)</label><span id='Options-fold-methods-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Options-showhide-methods"><i><label for="Options-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="Options-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Options-fold-method-setDefaults"><label for="Options-fold-method-setDefaults">(*Options) <a href="../../../src/go.pact.im/x/supervisor/options.go.html#line-14">setDefaults</a>()</label><span id='Options-fold-method-setDefaults-docs' class="fold-docs">
<span class="md-text">				setDefaults sets default values for unspecified options.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="Options-fold-params"><label for="Options-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='Options-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewSupervisor">NewSupervisor</a>[K, P](t <a href="#name-Table">Table</a>[K, P], o <b>Options</b>) *<a href="#name-Supervisor">Supervisor</a>[K, P]</span></span>

</span></div><div class="anchor type-res" id="name-Supervisor" data-popularity="925">	<input type='checkbox' class="fold" id="Supervisor-fold-content"><label for="Supervisor-fold-content"> <a href="../../../use/go.pact.im/x/supervisor..Supervisor.html">type</a> <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-19">Supervisor</a>[K, P] <i>(struct)</i></label><span id='Supervisor-fold-content-docs' class="fold-docs">

		Type Parameters:
			K: <a href="../../builtin.html#name-comparable">comparable</a>
			P: <a href="process.html">process</a>.<a href="process.html#name-Runnable">Runnable</a>

<span class="md-text">		Supervisor is responsible for starting, stopping, and monitoring its child
		processes.</span>

		<input type='checkbox' class="fold" id="Supervisor-fold-fields"><label for="Supervisor-fold-fields">Fields (<i>total 8, none are exported</i>)</label><span id='Supervisor-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Supervisor-showhide-fields"><i><label for="Supervisor-showhide-fields" class="show-inline">/* 8 unexporteds ... */</label><label for="Supervisor-showhide-fields" class="hide-inline">/* 8 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-21">clock</a> <i>*<a href="clock.html">clock</a>.<a href="clock.html#name-Clock">Clock</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-field-parent"><label for="Supervisor-fold-field-parent"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-39">parent</a> <i><a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a></i></label><span id='Supervisor-fold-field-parent-docs' class="fold-docs">
<span class="md-text">				parent is the parent context for all processes. It is set to the
				context passed to Run method and is guarded by startMu.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-field-processes"><label for="Supervisor-fold-field-processes"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-26">processes</a> <i><a href="syncx.html">syncx</a>.<a href="syncx.html#name-Map">Map</a>[K, *<a href="#name-managedProcess">managedProcess</a>[P]]</i></label><span id='Supervisor-fold-field-processes-docs' class="fold-docs">
<span class="md-text">				processes is a map of managed processes. It is used to track process
				state and allows returning an ErrProcessExists error to guarantee
				that at most one processes is active per key.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-field-runLock"><label for="Supervisor-fold-field-runLock"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-29">runLock</a> <i><a href="syncx.html">syncx</a>.<a href="syncx.html#name-Lock">Lock</a></i></label><span id='Supervisor-fold-field-runLock-docs' class="fold-docs">
<span class="md-text">				runLock ensures that at most one Run method is executing at a time.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-35">start</a> <i><a href="../../builtin.html#name-bool">bool</a></i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-field-startMu"><label for="Supervisor-fold-field-startMu"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-34">startMu</a> <i><a href="../../sync.html">sync</a>.<a href="../../sync.html#name-RWMutex">RWMutex</a></i></label><span id='Supervisor-fold-field-startMu-docs' class="fold-docs">
<span class="md-text">				startMu guards startProcess and startProcessForKey calls when
				Supervisor is not running. It also allows waiting for the ongoing
				calls to complete on shutdown.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-20">table</a> <i><a href="#name-Table">Table</a>[K, P]</i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-field-wg"><label for="Supervisor-fold-field-wg"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-43">wg</a> <i><a href="../../sync.html">sync</a>.<a href="../../sync.html#name-WaitGroup">WaitGroup</a></i></label><span id='Supervisor-fold-field-wg-docs' class="fold-docs">
<span class="md-text">				wg is the wait group for running processes and watchdogs. It is
				indirectly guarded by startMu and start.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="Supervisor-fold-methods"><label for="Supervisor-fold-methods">Methods (<i>total 16, in which 5 are exported</i>)</label><span id='Supervisor-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-Get"><label for="Supervisor-fold-method-Get">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/startstop.go.html#line-31">Get</a>(_ <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K) (P, <a href="../../builtin.html#name-error">error</a>)</label><span id='Supervisor-fold-method-Get-docs' class="fold-docs">
<span class="md-text">				Get returns a running process or either a ErrProcessNotFound error if the
				process does not exist or ErrProcessNotRunning is the process exists but is
				not running.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-Keys"><label for="Supervisor-fold-method-Keys">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/startstop.go.html#line-44">Keys</a>() []K</label><span id='Supervisor-fold-method-Keys-docs' class="fold-docs">
<span class="md-text">				Keys returns a list of all process keys.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-Run"><label for="Supervisor-fold-method-Run">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-87">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="process.html">process</a>.<a href="process.html#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Supervisor-fold-method-Run-docs' class="fold-docs">
<span class="md-text">				Run starts the supervisor and executes callback on successful initialization.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-Start"><label for="Supervisor-fold-method-Start">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/startstop.go.html#line-13">Start</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K) (P, <a href="../../builtin.html#name-error">error</a>)</label><span id='Supervisor-fold-method-Start-docs' class="fold-docs">
<span class="md-text">				Start starts the process with the given key from the table. It returns
				ErrNotRunning if the supervisor is not running and ErrProcessExists if the
				process already exists. Otherwise it returns an error from process
				initialization.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-Stop"><label for="Supervisor-fold-method-Stop">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/startstop.go.html#line-24">Stop</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K) <a href="../../builtin.html#name-error">error</a></label><span id='Supervisor-fold-method-Stop-docs' class="fold-docs">
<span class="md-text">				Stop stops the process with the given key. It returns ErrProcessNotFound if
				the process does not exist, and an error from running the process otherwise.</span>
</span></span>
			<input type='checkbox' class="showhide" id="Supervisor-showhide-methods"><i><label for="Supervisor-showhide-methods" class="show-inline">/* 11 unexporteds ... */</label><label for="Supervisor-showhide-methods" class="hide-inline">/* 11 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-restart"><label for="Supervisor-fold-method-restart">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-62">restart</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, wait <a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Supervisor-fold-method-restart-docs' class="fold-docs">
<span class="md-text">				restart starts processes from the table that are not currently running.
				
				If wait duration is not zero, it waits until background startProcess calls
				complete. This allows ensuring that we restore at least partial state in
				restoreInitial before invoking Supervisor’s Run callback.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-restartInitial"><label for="Supervisor-fold-method-restartInitial">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-17">restartInitial</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>)</label><span id='Supervisor-fold-method-restartInitial-docs' class="fold-docs">
<span class="md-text">				restartInitial restores the last state from the underlying table.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-restartLoop"><label for="Supervisor-fold-method-restartLoop">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-41">restartLoop</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>)</label><span id='Supervisor-fold-method-restartLoop-docs' class="fold-docs">
<span class="md-text">				restartLoop runs a loop that calls restart.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-restartProcessInBackground"><label for="Supervisor-fold-method-restartProcessInBackground">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-135">restartProcessInBackground</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K, r P) &lt;-chan struct{}</label><span id='Supervisor-fold-method-restartProcessInBackground-docs' class="fold-docs">
<span class="md-text">				restartProcessInBackground starts the process for the given key in the
				background. It returns a channel that is closed when startProcess call
				completes.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-spawnRestartLoop"><label for="Supervisor-fold-method-spawnRestartLoop">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-23">spawnRestartLoop</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) func()</label><span id='Supervisor-fold-method-spawnRestartLoop-docs' class="fold-docs">
<span class="md-text">				spawnRestartLoop spawns a restartLoop using the given context and returns
				a function that stops restart loop and waits completion.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-startProcess"><label for="Supervisor-fold-method-startProcess">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-149">startProcess</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K, r P) (*<a href="#name-managedProcess">managedProcess</a>[P], <a href="../../builtin.html#name-error">error</a>)</label><span id='Supervisor-fold-method-startProcess-docs' class="fold-docs">
<span class="md-text">				startProcess starts the process for the given key. Unlike startProcessForKey,
				it uses the given r Runnable instance instead of getting it from the table.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-startProcessForKey"><label for="Supervisor-fold-method-startProcessForKey">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-129">startProcessForKey</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K) (*<a href="#name-managedProcess">managedProcess</a>[P], <a href="../../builtin.html#name-error">error</a>)</label><span id='Supervisor-fold-method-startProcessForKey-docs' class="fold-docs">
<span class="md-text">				startProcessForKey starts the process for the given key. An error is returned
				if Supervisor’s Run method is not currently running.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-startProcessUnlocked"><label for="Supervisor-fold-method-startProcessUnlocked">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-164">startProcessUnlocked</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K, r P) (*<a href="#name-managedProcess">managedProcess</a>[P], <a href="../../builtin.html#name-error">error</a>)</label><span id='Supervisor-fold-method-startProcessUnlocked-docs' class="fold-docs">
<span class="md-text">				startProcessUnlocked starts the given process assuming that the start lock
				was acquired and an entry in the processes map exists. It removes this entry
				on error.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-stopAll"><label for="Supervisor-fold-method-stopAll">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-215">stopAll</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>)</label><span id='Supervisor-fold-method-stopAll-docs' class="fold-docs">
<span class="md-text">				stopAll stops all the processes in the underlying map. It does not wait for
				processes to complete the termination.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-stopProcess"><label for="Supervisor-fold-method-stopProcess">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-198">stopProcess</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K) <a href="../../builtin.html#name-error">error</a></label><span id='Supervisor-fold-method-stopProcess-docs' class="fold-docs">
<span class="md-text">				stopProcess stops the process with the given key. If the processes does not
				exist, it returns ErrProcessNotFound.</span>
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Supervisor-fold-method-watchdog"><label for="Supervisor-fold-method-watchdog">(*Supervisor[K, P]) <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-181">watchdog</a>(pk K, p *<a href="#name-managedProcess">managedProcess</a>[P])</label><span id='Supervisor-fold-method-watchdog-docs' class="fold-docs">
<span class="md-text">				watchdog waits for process shutdown and removes it from processes map on such
				event.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="Supervisor-fold-impls"><label for="Supervisor-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Supervisor-fold-impls-items' class="fold-items"><span>
			*Supervisor : go.pact.im/x/process.<a href="process.html#name-Runnable">Runnable</a></span></span>
		<input type='checkbox' class="fold" id="Supervisor-fold-results"><label for="Supervisor-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Supervisor-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewSupervisor">NewSupervisor</a>[K, P](t <a href="#name-Table">Table</a>[K, P], o <a href="#name-Options">Options</a>) *<b>Supervisor</b>[K, P]</span></span>

</span></div><div class="anchor type-res" id="name-Table" data-popularity="135">	<input type='checkbox' class="fold" id="Table-fold-content"><label for="Table-fold-content"> <a href="../../../use/go.pact.im/x/supervisor..Table.html">type</a> <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-9">Table</a>[K, V] <b><i>(interface)</i></b></label><span id='Table-fold-content-docs' class="fold-docs">

		Type Parameters:
			K: <a href="../../builtin.html#name-comparable">comparable</a>
			V: <a href="../../builtin.html#name-any">any</a>

<span class="md-text">		Table defines a table of key and value pairs that is potentially backed by a
		persistent and shared storage.</span>

		<input type='checkbox' class="fold" id="Table-fold-methods"><label for="Table-fold-methods">Methods (<i>total 2, both are exported</i>)</label><span id='Table-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Table-fold-method-Get"><label for="Table-fold-method-Get">( Table[K, V]) <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-11">Get</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, key K) (V, <a href="../../builtin.html#name-error">error</a>)</label><span id='Table-fold-method-Get-docs' class="fold-docs">
<span class="md-text">				Get returns the value for the given key.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Table-fold-method-Iter"><label for="Table-fold-method-Iter">( Table[K, V]) <a href="../../../src/go.pact.im/x/supervisor/table.go.html#line-13">Iter</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) (<a href="#name-Iterator">Iterator</a>[K, V], <a href="../../builtin.html#name-error">error</a>)</label><span id='Table-fold-method-Iter-docs' class="fold-docs">
<span class="md-text">				Iter returns an iterator for key and value pairs in the table.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Table-fold-params"><label for="Table-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='Table-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewSupervisor">NewSupervisor</a>[K, P](t <b>Table</b>[K, P], o <a href="#name-Options">Options</a>) *<a href="#name-Supervisor">Supervisor</a>[K, P]</span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor type-res hidden" id="name-managedProcess" data-popularity="560">	<input type='checkbox' class="fold" id="managedProcess-fold-content"><label for="managedProcess-fold-content"> <a href="../../../use/go.pact.im/x/supervisor..managedProcess^4c34f.html">type</a> <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-48">managedProcess</a>[P] <i>(struct)</i></label><span id='managedProcess-fold-content-docs' class="fold-docs">

		Type Parameters:
			P: <a href="process.html">process</a>.<a href="process.html#name-Runnable">Runnable</a>

<span class="md-text">		managedProcess contains a process.Process and associated process.Runnable
		managed by Supervisor.</span>

		<input type='checkbox' class="fold" id="managedProcess-fold-fields"><label for="managedProcess-fold-fields">Fields (<i>total 11, in which 1 is exported</i>)</label><span id='managedProcess-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49">Process</a> <i>*<a href="process.html">process</a>.<a href="process.html#name-Process">Process</a></i></span></span>
			<input type='checkbox' checked class="showhide" id="managedProcess-showhide-fields"><i><label for="managedProcess-showhide-fields" class="show-inline">/* 10 unexporteds ... */</label><label for="managedProcess-showhide-fields" class="hide-inline">/* 10 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="managedProcess-fold-field-proc"><label for="managedProcess-fold-field-proc"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-52">proc</a> <i>P</i></label><span id='managedProcess-fold-field-proc-docs' class="fold-docs">
<span class="md-text">				proc is the underlying process instance with parametrized P type.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-55">cancel</a> <i><a href="../../context.html">context</a>.<a href="../../context.html#name-CancelFunc">CancelFunc</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-58">done</a> <i>chan struct{}</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-59">err</a> <i><a href="../../go.uber.org/atomic.html">atomic</a>.<a href="../../go.uber.org/atomic.html#name-Error">Error</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-50">parent</a> <i><a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-49">proc</a> <i><a href="process.html">process</a>.<a href="process.html#name-Runnable">Runnable</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-53">state</a> <i><a href="process.html">process</a>.<a href="process.html#name-State">State</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-52">stateMu</a> <i><a href="../../sync.html">sync</a>.<a href="../../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-49" class="path-duplicate">Process</a>.<a href="../../../src/go.pact.im/x/process/process.go.html#line-57">stop</a> <i>chan struct{}</i></span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="managedProcess-fold-field-stopped"><label for="managedProcess-fold-field-stopped"><a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-56">stopped</a> <i><a href="../../go.uber.org/atomic.html">atomic</a>.<a href="../../go.uber.org/atomic.html#name-Bool">Bool</a></i></label><span id='managedProcess-fold-field-stopped-docs' class="fold-docs">
<span class="md-text">				stopped is used by Supervisor to remove the process instance from
				internal map at most once.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="managedProcess-fold-methods"><label for="managedProcess-fold-methods">Methods (<i>total 6, in which 5 are exported</i>)</label><span id='managedProcess-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="managedProcess-fold-method-Done"><label for="managedProcess-fold-method-Done">( managedProcess) <a href="../../../src/go.pact.im/x/process/process.go.html#line-74">Done</a>() &lt;-chan struct{}</label><span id='managedProcess-fold-method-Done-docs' class="fold-docs">
<span class="md-text">				Done returns a channel that is closed when process terminates.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="managedProcess-fold-method-Err"><label for="managedProcess-fold-method-Err">( managedProcess) <a href="../../../src/go.pact.im/x/process/process.go.html#line-79">Err</a>() <a href="../../builtin.html#name-error">error</a></label><span id='managedProcess-fold-method-Err-docs' class="fold-docs">
<span class="md-text">				Err returns the error from running the process.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="managedProcess-fold-method-Start"><label for="managedProcess-fold-method-Start">( managedProcess) <a href="../../../src/go.pact.im/x/process/process.go.html#line-97">Start</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></label><span id='managedProcess-fold-method-Start-docs' class="fold-docs">
<span class="md-text">				Start starts the process or cancels the underlying process context on error.
				
				The startup deadline may be set using the given ctx context. Note that the
				context would not be used by process directly so the associated values are
				not propagated.
				
				It returns ErrProcessInvalidState if the process is not in the initial state.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="managedProcess-fold-method-State"><label for="managedProcess-fold-method-State">( managedProcess) <a href="../../../src/go.pact.im/x/process/process.go.html#line-84">State</a>() <a href="process.html">process</a>.<a href="process.html#name-State">State</a></label><span id='managedProcess-fold-method-State-docs' class="fold-docs">
<span class="md-text">				State returns the current process state.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="managedProcess-fold-method-Stop"><label for="managedProcess-fold-method-Stop">( managedProcess) <a href="../../../src/go.pact.im/x/process/process.go.html#line-153">Stop</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></label><span id='managedProcess-fold-method-Stop-docs' class="fold-docs">
<span class="md-text">				Stop stops the process by returning from the Run method callback and waiting
				for the termination.
				
				The shutdown deadline may be set using the given ctx context. If the deadline
				is exceeded, underlying context is canceled, signaling a forced shutdown to
				the process.
				
				It returns ErrProcessInvalidState if the process was not started or has
				already been stopped.</span>
</span></span>
			<input type='checkbox' checked class="showhide" id="managedProcess-showhide-methods"><i><label for="managedProcess-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="managedProcess-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="managedProcess-fold-method-transition"><label for="managedProcess-fold-method-transition">( managedProcess) <a href="../../../src/go.pact.im/x/process/process.go.html#line-194">transition</a>(next <a href="process.html">process</a>.<a href="process.html#name-State">State</a>, advance func()) <a href="../../builtin.html#name-bool">bool</a></label><span id='managedProcess-fold-method-transition-docs' class="fold-docs">
<span class="md-text">				transition advances to the next process state. It returns false if there is
				not transition from the current to the given next state.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="managedProcess-fold-results"><label for="managedProcess-fold-results">As Outputs Of (<i>at least 3, none are exported</i>)</label><span id='managedProcess-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="managedProcess-showhide-inputofs"><i><label for="managedProcess-showhide-inputofs" class="show-inline">/* 3+ unexporteds ... */</label><label for="managedProcess-showhide-inputofs" class="hide-inline">/* 3+ unexporteds: */</label></i><span class="hidden"><i>
			func (*<a href="#name-Supervisor">Supervisor</a>)[K, P].<a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-149">startProcess</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K, r P) (*<b>managedProcess</b>[P], <a href="../../builtin.html#name-error">error</a>)</i></span><span class="hidden"><i>
			func (*<a href="#name-Supervisor">Supervisor</a>)[K, P].<a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-129">startProcessForKey</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K) (*<b>managedProcess</b>[P], <a href="../../builtin.html#name-error">error</a>)</i></span><span class="hidden"><i>
			func (*<a href="#name-Supervisor">Supervisor</a>)[K, P].<a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-164">startProcessUnlocked</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, pk K, r P) (*<b>managedProcess</b>[P], <a href="../../builtin.html#name-error">error</a>)</i></span></span>
		<input type='checkbox' class="fold" id="managedProcess-fold-params"><label for="managedProcess-fold-params">As Inputs Of (<i>at least one unexported</i>)</label><span id='managedProcess-fold-params-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="managedProcess-showhide-outputofs"><i><label for="managedProcess-showhide-outputofs" class="show-inline">/* at least one unexported ... */</label><label for="managedProcess-showhide-outputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func (*<a href="#name-Supervisor">Supervisor</a>)[K, P].<a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-181">watchdog</a>(pk K, p *<b>managedProcess</b>[P])</i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div class="anchor value-res" id="name-NewSupervisor">	<input type='checkbox' class="fold" id="NewSupervisor-fold-content"><label for="NewSupervisor-fold-content"> <a href="../../../use/go.pact.im/x/supervisor..NewSupervisor.html">func</a> <a href="../../../src/go.pact.im/x/supervisor/supervisor.go.html#line-76">NewSupervisor</a>[K, P](t <a href="#name-Table">Table</a>[K, P], o <a href="#name-Options">Options</a>) *<a href="#name-Supervisor">Supervisor</a>[K, P]</label><span id='NewSupervisor-fold-content-docs' class="fold-docs">

		Type Parameters:
			K: <a href="../../builtin.html#name-comparable">comparable</a>
			P: <a href="process.html">process</a>.<a href="process.html#name-Runnable">Runnable</a>

<span class="md-text">		NewSupervisor returns a new Supervisor instance. The given table is used to
		lookup managed processes and periodically restart failed units (or processes
		that were added externally). Managed processes are uniquely identifiable by
		key.
		
		A managed process may remove itself from the Supervisor by deleting the
		associated entry from the table before terminating. Likewise, to stop a
		process, it must be removed from the table prior to Stop call. That is,
		processes must be aware of being managed and the removal is tighly coupled
		with the table.
		
		As a rule of thumb, to keep the underlying table consistent, processes should
		not be re-added to table after being removed from the table. It is possible
		to implement re-adding on top of the Supervisor but that requires handling
		possible orderings of table removal, addition, re-addition and process
		startup, shutdown and self-removal (or a subset of these operations depending
		on the use cases).</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 4, all are exported)</i></span></span>

<div class="anchor value-res" id="name-ErrNotRunning">	<input type='checkbox' class="fold" id="ErrNotRunning-fold-content"><label for="ErrNotRunning-fold-content">  <a href="../../../use/go.pact.im/x/supervisor..ErrNotRunning.html">var</a> <a href="../../../src/go.pact.im/x/supervisor/errors.go.html#line-10">ErrNotRunning</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrNotRunning-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrNotRunning is an error that is returned when a process
		supervisor temporarily unavailable (i.e. it is not running).</span>

</span></div><div class="anchor value-res" id="name-ErrProcessExists">	<input type='checkbox' class="fold" id="ErrProcessExists-fold-content"><label for="ErrProcessExists-fold-content">  <a href="../../../use/go.pact.im/x/supervisor..ErrProcessExists.html">var</a> <a href="../../../src/go.pact.im/x/supervisor/errors.go.html#line-22">ErrProcessExists</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrProcessExists-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrProcessExists is an error that is returned if the process already
		exists for the given ID.</span>

</span></div><div class="anchor value-res" id="name-ErrProcessNotFound">	<input type='checkbox' class="fold" id="ErrProcessNotFound-fold-content"><label for="ErrProcessNotFound-fold-content">  <a href="../../../use/go.pact.im/x/supervisor..ErrProcessNotFound.html">var</a> <a href="../../../src/go.pact.im/x/supervisor/errors.go.html#line-14">ErrProcessNotFound</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrProcessNotFound-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrProcessNotFound is an error that is returned if the requested
		process was not found.</span>

</span></div><div class="anchor value-res" id="name-ErrProcessNotRunning">	<input type='checkbox' class="fold" id="ErrProcessNotRunning-fold-content"><label for="ErrProcessNotRunning-fold-content">  <a href="../../../use/go.pact.im/x/supervisor..ErrProcessNotRunning.html">var</a> <a href="../../../src/go.pact.im/x/supervisor/errors.go.html#line-18">ErrProcessNotRunning</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrProcessNotRunning-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrProcessNotRunning is an error that is returned when a process is
		not running (i.e. exists but is in the starting state).</span>

</span></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 3, none are exported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-constants-showhide"><i><label for="unexported-constants-showhide" class="show-inline">/* 3 unexporteds ... */</label><label for="unexported-constants-showhide" class="hide-inline">/* 3 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-restartInitialWait"><i>	<span class="nodocs"><a href="../../../use/go.pact.im/x/supervisor..restartInitialWait^340f9.html">const</a> <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-11">restartInitialWait</a> <a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a> = 1000000000</span></i></div><div class="anchor value-res hidden" id="name-restartLoopInterval"><i>	<span class="nodocs"><a href="../../../use/go.pact.im/x/supervisor..restartLoopInterval^eef42.html">const</a> <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-12">restartLoopInterval</a> <a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a> = 60000000000</span></i></div><div class="anchor value-res hidden" id="name-restartLoopWait"><i>	<span class="nodocs"><a href="../../../use/go.pact.im/x/supervisor..restartLoopWait^ae8ab.html">const</a> <a href="../../../src/go.pact.im/x/supervisor/restart.go.html#line-13">restartLoopWait</a> = 0</span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>