<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/aws/smithy-go/context</title>
<link href="../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>context</b></span>

<span class="title">Import Path</span>
	<a href="../../../../index.html#pkg-github.com/aws/smithy-go/context">github.com/aws/smithy-go/context</a><i> (on <a href="https://pkg.go.dev/github.com/aws/smithy-go/context" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../dep/github.com/aws/smithy-go/context.html">one package</a>, and imported by <a href="../../../../dep/github.com/aws/smithy-go/context.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html">suppress_expired.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, neither is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 2 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 2 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-preserveExpiredValuesKey" data-popularity="0">	<span class="nodocs"> <a href="../../../../use/github.com/aws/smithy-go/context..preserveExpiredValuesKey^a0173.html">type</a> <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-61">preserveExpiredValuesKey</a> <i>(struct)</i></span></div><div class="anchor type-res hidden" id="name-valueOnlyContext" data-popularity="250">	<input type='checkbox' class="fold" id="valueOnlyContext-fold-content"><label for="valueOnlyContext-fold-content"> <a href="../../../../use/github.com/aws/smithy-go/context..valueOnlyContext^ac708.html">type</a> <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-16">valueOnlyContext</a> <i>(struct)</i></label><span id='valueOnlyContext-fold-content-docs' class="fold-docs">
<span class="md-text">		valueOnlyContext provides a utility to preserve only the values of a
		Context. Suppressing any cancellation or deadline on that context being
		propagated downstream of this value.
		
		If preserveExpiredValues is false (default), and the valueCtx is canceled,
		calls to lookup values with the Values method, will always return nil. Setting
		preserveExpiredValues to true, will allow the valueOnlyContext to lookup
		values in valueCtx even if valueCtx is canceled.
		
		Based on the Go standard libraries net/lookup.go onlyValuesCtx utility.
		https://github.com/golang/go/blob/da2773fe3e2f6106634673a38dc3a6eb875fe7d8/src/net/lookup.go</span>

		<input type='checkbox' class="fold" id="valueOnlyContext-fold-fields"><label for="valueOnlyContext-fold-fields">Fields (<i>total 3, in which 1 is exported</i>)</label><span id='valueOnlyContext-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-17">Context</a> <i><a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a></i></span></span>
			<input type='checkbox' checked class="showhide" id="valueOnlyContext-showhide-fields"><i><label for="valueOnlyContext-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="valueOnlyContext-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-19">preserveExpiredValues</a> <i><a href="../../../builtin.html#name-bool">bool</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-20">valuesCtx</a> <i><a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="valueOnlyContext-fold-methods"><label for="valueOnlyContext-fold-methods">Methods (<i>total 4, all are exported</i>)</label><span id='valueOnlyContext-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="valueOnlyContext-fold-method-Deadline"><label for="valueOnlyContext-fold-method-Deadline">( valueOnlyContext) <a href="../../../../src/context/context.go.html#line-75">Deadline</a>() (deadline <a href="../../../time.html">time</a>.<a href="../../../time.html#name-Time">Time</a>, ok <a href="../../../builtin.html#name-bool">bool</a>)</label><span id='valueOnlyContext-fold-method-Deadline-docs' class="fold-docs">
<span class="md-text">				Deadline returns the time when work done on behalf of this context
				should be canceled. Deadline returns ok==false when no deadline is
				set. Successive calls to Deadline return the same results.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="valueOnlyContext-fold-method-Done"><label for="valueOnlyContext-fold-method-Done">( valueOnlyContext) <a href="../../../../src/context/context.go.html#line-108">Done</a>() &lt;-chan struct{}</label><span id='valueOnlyContext-fold-method-Done-docs' class="fold-docs">
<span class="md-text">				Done returns a channel that's closed when work done on behalf of this
				context should be canceled. Done may return nil if this context can
				never be canceled. Successive calls to Done return the same value.
				The close of the Done channel may happen asynchronously,
				after the cancel function returns.
				
				WithCancel arranges for Done to be closed when cancel is called;
				WithDeadline arranges for Done to be closed when the deadline
				expires; WithTimeout arranges for Done to be closed when the timeout
				elapses.
				
				Done is provided for use in select statements:
				
				 // Stream generates values with DoSomething and sends them to out
				 // until DoSomething returns an error or ctx.Done is closed.
				 func Stream(ctx context.Context, out chan&lt;- Value) error {
				 	for {
				 		v, err := DoSomething(ctx)
				 		if err != nil {
				 			return err
				 		}
				 		select {
				 		case &lt;-ctx.Done():
				 			return ctx.Err()
				 		case out &lt;- v:
				 		}
				 	}
				 }
				
				See https://blog.golang.org/pipelines for more examples of how to use
				a Done channel for cancellation.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="valueOnlyContext-fold-method-Err"><label for="valueOnlyContext-fold-method-Err">( valueOnlyContext) <a href="../../../../src/context/context.go.html#line-115">Err</a>() <a href="../../../builtin.html#name-error">error</a></label><span id='valueOnlyContext-fold-method-Err-docs' class="fold-docs">
<span class="md-text">				If Done is not yet closed, Err returns nil.
				If Done is closed, Err returns a non-nil error explaining why:
				DeadlineExceeded if the context's deadline passed,
				or Canceled if the context was canceled for some other reason.
				After Err returns a non-nil error, successive calls to Err return the same error.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="valueOnlyContext-fold-method-Value"><label for="valueOnlyContext-fold-method-Value">(*valueOnlyContext) <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-28">Value</a>(key interface{}) interface{}</label><span id='valueOnlyContext-fold-method-Value-docs' class="fold-docs">
<span class="md-text">				Value looks up the key, returning its value. If configured to not preserve
				values of expired context, and the wrapping context is canceled, nil will be
				returned.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="valueOnlyContext-fold-impls"><label for="valueOnlyContext-fold-impls">Implements (<i>at least one exported</i>)</label><span id='valueOnlyContext-fold-impls-items' class="fold-items"><span>
			*valueOnlyContext : context.<a href="../../../context.html#name-Context">Context</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 3, all are exported)</i></span></span>

<div class="anchor value-res" id="name-GetPreserveExpiredValues">	<input type='checkbox' class="fold" id="GetPreserveExpiredValues-fold-content"><label for="GetPreserveExpiredValues-fold-content"> <a href="../../../../use/github.com/aws/smithy-go/context..GetPreserveExpiredValues.html">func</a> <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-75">GetPreserveExpiredValues</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>) <a href="../../../builtin.html#name-bool">bool</a></label><span id='GetPreserveExpiredValues-fold-content-docs' class="fold-docs">
<span class="md-text">		GetPreserveExpiredValues looks up, and returns the PreserveExpressValues
		value in the context. Returning true if enabled, false otherwise.</span>

</span></div><div class="anchor value-res" id="name-WithPreserveExpiredValues">	<input type='checkbox' class="fold" id="WithPreserveExpiredValues-fold-content"><label for="WithPreserveExpiredValues-fold-content"> <a href="../../../../use/github.com/aws/smithy-go/context..WithPreserveExpiredValues.html">func</a> <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-69">WithPreserveExpiredValues</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>, enable <a href="../../../builtin.html#name-bool">bool</a>) <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a></label><span id='WithPreserveExpiredValues-fold-content-docs' class="fold-docs">
<span class="md-text">		WithPreserveExpiredValues adds a Value to the Context if expired values
		should be preserved, and looked up by a Context wrapped by
		WithSuppressCancel.
		
		WithPreserveExpiredValues must be added as a value to a Context, before that
		Context is wrapped by WithSuppressCancel</span>

</span></div><div class="anchor value-res" id="name-WithSuppressCancel">	<input type='checkbox' class="fold" id="WithSuppressCancel-fold-content"><label for="WithSuppressCancel-fold-content"> <a href="../../../../use/github.com/aws/smithy-go/context..WithSuppressCancel.html">func</a> <a href="../../../../src/github.com/aws/smithy-go/context/suppress_expired.go.html#line-52">WithSuppressCancel</a>(ctx <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a>) <a href="../../../context.html">context</a>.<a href="../../../context.html#name-Context">Context</a></label><span id='WithSuppressCancel-fold-content-docs' class="fold-docs">
<span class="md-text">		WithSuppressCancel wraps the Context value, suppressing its deadline and
		cancellation events being propagated downstream to consumer of the returned
		context.
		
		By default the wrapped Context's Values are available downstream until the
		wrapped Context is canceled. Once the wrapped Context is canceled, Values
		method called on the context return will no longer lookup any key. As they
		are now considered expired.
		
		To override this behavior, use WithPreserveExpiredValues on the Context
		before it is wrapped by WithSuppressCancel. This will make the Context
		returned by WithSuppressCancel allow lookup of expired values.</span>

</span></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>