<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: go.pact.im/x/process</title>
<link href="../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>process</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-go.pact.im/x/process">go.pact.im/x/process</a><i> (on <a href="https://pkg.go.dev/go.pact.im/x/process" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/go.pact.im/x/process.html">6 packages</a>, and imported by <a href="../../../dep/go.pact.im/x/process.html#imported-by">2 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../src/go.pact.im/x/process/chain.go.html">chain.go</a></span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/process/parallel.go.html">parallel.go</a></span>
	<input type='checkbox' checked class="fold" id="file-2-fold-content"><label for="file-2-fold-content">  <a href="../../../src/go.pact.im/x/process/process.go.html#doc">d</a> <a href="../../../src/go.pact.im/x/process/process.go.html">process.go</a></label><span id='file-2-fold-content-items' class="fold-items">
<span class="md-text">		Package process provides primitives for managing processes, an abstraction
		for stateful goroutines.</span>
</span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/process/runnable.go.html">runnable.go</a></span>
	<span class="nodocs">    <a href="../../../src/go.pact.im/x/process/task.go.html">task.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 12, in which 5 are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Callback" data-popularity="0">	<input type='checkbox' class="fold" id="Callback-fold-content"><label for="Callback-fold-content"> <a href="../../../use/go.pact.im/x/process..Callback.html">type</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-10">Callback</a> = <i>(func)</i></label><span id='Callback-fold-content-docs' class="fold-docs">
<span class="md-text">		Callback is a type alias for the function passed to Runnable’s Run method.
		See Runnable documentation for more details.</span>

</span></div><div class="anchor type-res" id="name-Process" data-popularity="375">	<input type='checkbox' class="fold" id="Process-fold-content"><label for="Process-fold-content"> <a href="../../../use/go.pact.im/x/process..Process.html">type</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-48">Process</a> <i>(struct)</i></label><span id='Process-fold-content-docs' class="fold-docs">
<span class="md-text">		Process represents a stateful process that is running in the background.
		It exposes Start and Stop methods that use an underlying state machine to
		prevent operations in invalid states. Process is safe for concurrent use.
		
		Unlike some implementations of the underlying Runnable interface that allow
		multiple consecutive Run invocations on the same instance, a Process may not
		be reset and started after being stopped.</span>

		<input type='checkbox' class="fold" id="Process-fold-fields"><label for="Process-fold-fields">Fields (<i>total 8, none are exported</i>)</label><span id='Process-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Process-showhide-fields"><i><label for="Process-showhide-fields" class="show-inline">/* 8 unexporteds ... */</label><label for="Process-showhide-fields" class="hide-inline">/* 8 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-55">cancel</a> <i><a href="../../context.html">context</a>.<a href="../../context.html#name-CancelFunc">CancelFunc</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-58">done</a> <i>chan struct{}</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-59">err</a> <i><a href="../../go.uber.org/atomic.html">atomic</a>.<a href="../../go.uber.org/atomic.html#name-Error">Error</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-50">parent</a> <i><a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-49">proc</a> <i><a href="#name-Runnable">Runnable</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-53">state</a> <i><a href="#name-State">State</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-52">stateMu</a> <i><a href="../../sync.html">sync</a>.<a href="../../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/process.go.html#line-57">stop</a> <i>chan struct{}</i></span></i></span></span>
		<input type='checkbox' class="fold" id="Process-fold-methods"><label for="Process-fold-methods">Methods (<i>total 6, in which 5 are exported</i>)</label><span id='Process-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Process-fold-method-Done"><label for="Process-fold-method-Done">(*Process) <a href="../../../src/go.pact.im/x/process/process.go.html#line-74">Done</a>() &lt;-chan struct{}</label><span id='Process-fold-method-Done-docs' class="fold-docs">
<span class="md-text">				Done returns a channel that is closed when process terminates.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Process-fold-method-Err"><label for="Process-fold-method-Err">(*Process) <a href="../../../src/go.pact.im/x/process/process.go.html#line-79">Err</a>() <a href="../../builtin.html#name-error">error</a></label><span id='Process-fold-method-Err-docs' class="fold-docs">
<span class="md-text">				Err returns the error from running the process.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Process-fold-method-Start"><label for="Process-fold-method-Start">(*Process) <a href="../../../src/go.pact.im/x/process/process.go.html#line-97">Start</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Process-fold-method-Start-docs' class="fold-docs">
<span class="md-text">				Start starts the process or cancels the underlying process context on error.
				
				The startup deadline may be set using the given ctx context. Note that the
				context would not be used by process directly so the associated values are
				not propagated.
				
				It returns ErrProcessInvalidState if the process is not in the initial state.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Process-fold-method-State"><label for="Process-fold-method-State">(*Process) <a href="../../../src/go.pact.im/x/process/process.go.html#line-84">State</a>() <a href="#name-State">State</a></label><span id='Process-fold-method-State-docs' class="fold-docs">
<span class="md-text">				State returns the current process state.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Process-fold-method-Stop"><label for="Process-fold-method-Stop">(*Process) <a href="../../../src/go.pact.im/x/process/process.go.html#line-153">Stop</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Process-fold-method-Stop-docs' class="fold-docs">
<span class="md-text">				Stop stops the process by returning from the Run method callback and waiting
				for the termination.
				
				The shutdown deadline may be set using the given ctx context. If the deadline
				is exceeded, underlying context is canceled, signaling a forced shutdown to
				the process.
				
				It returns ErrProcessInvalidState if the process was not started or has
				already been stopped.</span>
</span></span>
			<input type='checkbox' class="showhide" id="Process-showhide-methods"><i><label for="Process-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="Process-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="Process-fold-method-transition"><label for="Process-fold-method-transition">(*Process) <a href="../../../src/go.pact.im/x/process/process.go.html#line-194">transition</a>(next <a href="#name-State">State</a>, advance func()) <a href="../../builtin.html#name-bool">bool</a></label><span id='Process-fold-method-transition-docs' class="fold-docs">
<span class="md-text">				transition advances to the next process state. It returns false if there is
				not transition from the current to the given next state.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="Process-fold-results"><label for="Process-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Process-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewProcess">NewProcess</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, proc <a href="#name-Runnable">Runnable</a>) *<b>Process</b></span></span>

</span></div><div class="anchor type-res" id="name-Runnable" data-popularity="2175">	<input type='checkbox' class="fold" id="Runnable-fold-content"><label for="Runnable-fold-content"> <a href="../../../use/go.pact.im/x/process..Runnable.html">type</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-20">Runnable</a> <b><i>(interface)</i></b></label><span id='Runnable-fold-content-docs' class="fold-docs">
<span class="md-text">		Runnable defines a blocking long-running process that that should be
		considered running and ready for use when the Run’s method callback is
		called.
		
		Runnable performs graceful shutdown when the callback returns. In this case,
		the context is not canceled and the process may access external resources,
		e.g. perform some network requests and persist state to database. Otherwise
		a context cancellation is used to force shutdown.</span>

		<input type='checkbox' class="fold" id="Runnable-fold-methods"><label for="Runnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Runnable-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Runnable-fold-method-Run"><label for="Runnable-fold-method-Run">( Runnable) <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-31">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Runnable-fold-method-Run-docs' class="fold-docs">
<span class="md-text">				Run executes the process. Callback function is called when the
				process has been initialized and began execution. The process is
				interrupted if the callback returns or the given context expires.
				On termination the context passed to the callback is canceled.
				
				To make debugging easier, callback runs in the same goroutine where
				Run was invoked. Note though that this behavior currently is not
				supported by all existing Run implementations.
				
				It is safe to assume that callback is called at most once.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Runnable-fold-impledby"><label for="Runnable-fold-impledby">Implemented By (<i>at least 9, in which 3 are exported</i>)</label><span id='Runnable-fold-impledby-items' class="fold-items"><span>
			 <a href="#name-RunnableFunc">RunnableFunc</a></span><span>
			*go.pact.im/x/supervisor.<a href="supervisor.html#name-Supervisor">Supervisor</a>[...]</span>
			<input type='checkbox' class="showhide" id="Runnable-showhide-impedBys"><i><label for="Runnable-showhide-impedBys" class="show-inline">/* 6+ unexporteds ... */</label><label for="Runnable-showhide-impedBys" class="hide-inline">/* 6+ unexporteds: */</label></i><span class="hidden"><i>
			*<a href="#name-chainRunnable">chainRunnable</a></i></span><span class="hidden"><i>
			*<a href="#name-chainState">chainState</a></i></span><span class="hidden"><i>
			*<a href="#name-groupRunnable">groupRunnable</a></i></span><span class="hidden"><i>
			*<a href="#name-leafRunnable">leafRunnable</a></i></span><span class="hidden"><i>
			*<a href="#name-namedRunnable">namedRunnable</a></i></span><span class="hidden"><i>
			*<a href="#name-nopRunnable">nopRunnable</a></i></span><span class="hidden"><i>
			*<a href="#name-startStopRunnable">startStopRunnable</a></i></span></span>
		<input type='checkbox' class="fold" id="Runnable-fold-results"><label for="Runnable-fold-results">As Outputs Of (<i>at least 8, all are exported</i>)</label><span id='Runnable-fold-results-items' class="fold-items"><span>
			func <a href="#name-Chain">Chain</a>(deps ...<b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-Leaf">Leaf</a>(runInForeground, gracefulStop func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a>) <b>Runnable</b></span><span>
			func <a href="#name-Named">Named</a>(name <a href="../../builtin.html#name-string">string</a>, p <b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-Nop">Nop</a>() <b>Runnable</b></span><span>
			func <a href="#name-Parallel">Parallel</a>(deps ...<b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-Sequential">Sequential</a>(deps ...<b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-StartStop">StartStop</a>(startInBackground, gracefulStop func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a>) <b>Runnable</b></span><span>
			func go.pact.im/x/grpcprocess.<a href="grpcprocess.html#name-Server">Server</a>(srv *<a href="../../google.golang.org/grpc.html">grpc</a>.<a href="../../google.golang.org/grpc.html#name-Server">Server</a>, lis <a href="../../net.html">net</a>.<a href="../../net.html#name-Listener">Listener</a>) <b>Runnable</b></span></span>
		<input type='checkbox' class="fold" id="Runnable-fold-params"><label for="Runnable-fold-params">As Inputs Of (<i>at least 5, all are exported</i>)</label><span id='Runnable-fold-params-items' class="fold-items"><span>
			func <a href="#name-Chain">Chain</a>(deps ...<b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-Named">Named</a>(name <a href="../../builtin.html#name-string">string</a>, p <b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-NewProcess">NewProcess</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, proc <b>Runnable</b>) *<a href="#name-Process">Process</a></span><span>
			func <a href="#name-Parallel">Parallel</a>(deps ...<b>Runnable</b>) <b>Runnable</b></span><span>
			func <a href="#name-Sequential">Sequential</a>(deps ...<b>Runnable</b>) <b>Runnable</b></span></span>

</span></div><div class="anchor type-res" id="name-RunnableFunc" data-popularity="100">	<input type='checkbox' class="fold" id="RunnableFunc-fold-content"><label for="RunnableFunc-fold-content"> <a href="../../../use/go.pact.im/x/process..RunnableFunc.html">type</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-35">RunnableFunc</a> <i>(func)</i></label><span id='RunnableFunc-fold-content-docs' class="fold-docs">
<span class="md-text">		RunnableFunc is a function that implements the Runnable interface.</span>

		<input type='checkbox' class="fold" id="RunnableFunc-fold-methods"><label for="RunnableFunc-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='RunnableFunc-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="RunnableFunc-fold-method-Run"><label for="RunnableFunc-fold-method-Run">( RunnableFunc) <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-38">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></label><span id='RunnableFunc-fold-method-Run-docs' class="fold-docs">
<span class="md-text">				Run implements the Runnable interface.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="RunnableFunc-fold-impls"><label for="RunnableFunc-fold-impls">Implements (<i>at least one exported</i>)</label><span id='RunnableFunc-fold-impls-items' class="fold-items"><span>
			 RunnableFunc : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res" id="name-State" data-popularity="125">	<input type='checkbox' class="fold" id="State-fold-content"><label for="State-fold-content"> <a href="../../../use/go.pact.im/x/process..State.html">type</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-19">State</a> <a href="../../builtin.html#name-int">int</a> <i>(basic type)</i></label><span id='State-fold-content-docs' class="fold-docs">
<span class="md-text">		State represents the current state of the process.</span>

		<input type='checkbox' class="fold" id="State-fold-results"><label for="State-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='State-fold-results-items' class="fold-items"><span>
			func (*<a href="#name-Process">Process</a>).<a href="../../../src/go.pact.im/x/process/process.go.html#line-84">State</a>() <b>State</b></span></span>
		<input type='checkbox' class="fold" id="State-fold-params"><label for="State-fold-params">As Inputs Of (<i>at least one unexported</i>)</label><span id='State-fold-params-items' class="fold-items">
			<input type='checkbox' class="showhide" id="State-showhide-outputofs"><i><label for="State-showhide-outputofs" class="show-inline">/* at least one unexported ... */</label><label for="State-showhide-outputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func (*<a href="#name-Process">Process</a>).<a href="../../../src/go.pact.im/x/process/process.go.html#line-194">transition</a>(next <b>State</b>, advance func()) <a href="../../builtin.html#name-bool">bool</a></i></span></span>
		<input type='checkbox' class="fold" id="State-fold-values"><label for="State-fold-values">As Types Of (<i>total 4, all are exported</i>)</label><span id='State-fold-values-items' class="fold-items"><span>
			const <a href="#name-StateInitial">StateInitial</a></span><span>
			const <a href="#name-StateRunning">StateRunning</a></span><span>
			const <a href="#name-StateStarting">StateStarting</a></span><span>
			const <a href="#name-StateStopped">StateStopped</a></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 7 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 7 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-chainRunnable" data-popularity="100">	<input type='checkbox' class="fold" id="chainRunnable-fold-content"><label for="chainRunnable-fold-content"> <a href="../../../use/go.pact.im/x/process..chainRunnable^558b5.html">type</a> <a href="../../../src/go.pact.im/x/process/chain.go.html#line-19">chainRunnable</a> <i>(struct)</i></label><span id='chainRunnable-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="chainRunnable-fold-fields"><label for="chainRunnable-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='chainRunnable-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="chainRunnable-showhide-fields"><i><label for="chainRunnable-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="chainRunnable-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/chain.go.html#line-20">deps</a> <i>[]<a href="#name-Runnable">Runnable</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="chainRunnable-fold-methods"><label for="chainRunnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='chainRunnable-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*chainRunnable) <a href="../../../src/go.pact.im/x/process/chain.go.html#line-23">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></span></span></span>
		<input type='checkbox' class="fold" id="chainRunnable-fold-impls"><label for="chainRunnable-fold-impls">Implements (<i>at least one exported</i>)</label><span id='chainRunnable-fold-impls-items' class="fold-items"><span>
			*chainRunnable : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-chainState" data-popularity="150">	<input type='checkbox' class="fold" id="chainState-fold-content"><label for="chainState-fold-content"> <a href="../../../use/go.pact.im/x/process..chainState^2d3ee.html">type</a> <a href="../../../src/go.pact.im/x/process/chain.go.html#line-28">chainState</a> <i>(struct)</i></label><span id='chainState-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="chainState-fold-fields"><label for="chainState-fold-fields">Fields (<i>total 3, none are exported</i>)</label><span id='chainState-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="chainState-showhide-fields"><i><label for="chainState-showhide-fields" class="show-inline">/* 3 unexporteds ... */</label><label for="chainState-showhide-fields" class="hide-inline">/* 3 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="chainState-fold-field-deps"><label for="chainState-fold-field-deps"><a href="../../../src/go.pact.im/x/process/chain.go.html#line-30">deps</a> <i>[]<a href="#name-Runnable">Runnable</a></i></label><span id='chainState-fold-field-deps-docs' class="fold-docs">
<span class="md-text">				// len(deps) &gt;= 2</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/chain.go.html#line-29">index</a> <i><a href="../../builtin.html#name-int">int</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/chain.go.html#line-31">main</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="chainState-fold-methods"><label for="chainState-fold-methods">Methods (<i>total 2, in which 1 is exported</i>)</label><span id='chainState-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*chainState) <a href="../../../src/go.pact.im/x/process/chain.go.html#line-34">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></span></span>
			<input type='checkbox' checked class="showhide" id="chainState-showhide-methods"><i><label for="chainState-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="chainState-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*chainState) <a href="../../../src/go.pact.im/x/process/chain.go.html#line-49">next</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></span></i></span></span>
		<input type='checkbox' class="fold" id="chainState-fold-impls"><label for="chainState-fold-impls">Implements (<i>at least one exported</i>)</label><span id='chainState-fold-impls-items' class="fold-items"><span>
			*chainState : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-groupRunnable" data-popularity="100">	<input type='checkbox' class="fold" id="groupRunnable-fold-content"><label for="groupRunnable-fold-content"> <a href="../../../use/go.pact.im/x/process..groupRunnable^5635b.html">type</a> <a href="../../../src/go.pact.im/x/process/parallel.go.html#line-50">groupRunnable</a> <i>(struct)</i></label><span id='groupRunnable-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="groupRunnable-fold-fields"><label for="groupRunnable-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='groupRunnable-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="groupRunnable-showhide-fields"><i><label for="groupRunnable-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="groupRunnable-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/parallel.go.html#line-51">deps</a> <i>[]<a href="#name-Runnable">Runnable</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/parallel.go.html#line-52">exec</a> <i><a href="task.html">task</a>.<a href="task.html#name-Executor">Executor</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="groupRunnable-fold-methods"><label for="groupRunnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='groupRunnable-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*groupRunnable) <a href="../../../src/go.pact.im/x/process/parallel.go.html#line-55">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></span></span></span>
		<input type='checkbox' class="fold" id="groupRunnable-fold-impls"><label for="groupRunnable-fold-impls">Implements (<i>at least one exported</i>)</label><span id='groupRunnable-fold-impls-items' class="fold-items"><span>
			*groupRunnable : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-leafRunnable" data-popularity="100">	<input type='checkbox' class="fold" id="leafRunnable-fold-content"><label for="leafRunnable-fold-content"> <a href="../../../use/go.pact.im/x/process..leafRunnable^cb0db.html">type</a> <a href="../../../src/go.pact.im/x/process/task.go.html#line-69">leafRunnable</a> <i>(struct)</i></label><span id='leafRunnable-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="leafRunnable-fold-fields"><label for="leafRunnable-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='leafRunnable-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="leafRunnable-showhide-fields"><i><label for="leafRunnable-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="leafRunnable-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/task.go.html#line-71">gracefulStop</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/task.go.html#line-70">runInForeground</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="leafRunnable-fold-methods"><label for="leafRunnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='leafRunnable-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*leafRunnable) <a href="../../../src/go.pact.im/x/process/task.go.html#line-74">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></span></span></span>
		<input type='checkbox' class="fold" id="leafRunnable-fold-impls"><label for="leafRunnable-fold-impls">Implements (<i>at least one exported</i>)</label><span id='leafRunnable-fold-impls-items' class="fold-items"><span>
			*leafRunnable : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-namedRunnable" data-popularity="100">	<input type='checkbox' class="fold" id="namedRunnable-fold-content"><label for="namedRunnable-fold-content"> <a href="../../../use/go.pact.im/x/process..namedRunnable^21b2e.html">type</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-58">namedRunnable</a> <i>(struct)</i></label><span id='namedRunnable-fold-content-docs' class="fold-docs">
<span class="md-text">		namedRunnable is a Runnable implementation that prefixes an error with the
		set string.</span>

		<input type='checkbox' class="fold" id="namedRunnable-fold-fields"><label for="namedRunnable-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='namedRunnable-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="namedRunnable-showhide-fields"><i><label for="namedRunnable-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="namedRunnable-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/runnable.go.html#line-60">name</a> <i><a href="../../builtin.html#name-string">string</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/runnable.go.html#line-59">proc</a> <i><a href="#name-Runnable">Runnable</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="namedRunnable-fold-methods"><label for="namedRunnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='namedRunnable-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="namedRunnable-fold-method-Run"><label for="namedRunnable-fold-method-Run">(*namedRunnable) <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-72">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></label><span id='namedRunnable-fold-method-Run-docs' class="fold-docs">
<span class="md-text">				Run implements the Runnable interface.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="namedRunnable-fold-impls"><label for="namedRunnable-fold-impls">Implements (<i>at least one exported</i>)</label><span id='namedRunnable-fold-impls-items' class="fold-items"><span>
			*namedRunnable : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-nopRunnable" data-popularity="100">	<input type='checkbox' class="fold" id="nopRunnable-fold-content"><label for="nopRunnable-fold-content"> <a href="../../../use/go.pact.im/x/process..nopRunnable^42d25.html">type</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-43">nopRunnable</a> <i>(struct)</i></label><span id='nopRunnable-fold-content-docs' class="fold-docs">
<span class="md-text">		nopRunnable is a no-op Runnable implementation.</span>

		<input type='checkbox' class="fold" id="nopRunnable-fold-methods"><label for="nopRunnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='nopRunnable-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="nopRunnable-fold-method-Run"><label for="nopRunnable-fold-method-Run">(*nopRunnable) <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-52">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></label><span id='nopRunnable-fold-method-Run-docs' class="fold-docs">
<span class="md-text">				Run implements the Runnable interface.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="nopRunnable-fold-impls"><label for="nopRunnable-fold-impls">Implements (<i>at least one exported</i>)</label><span id='nopRunnable-fold-impls-items' class="fold-items"><span>
			*nopRunnable : <a href="#name-Runnable">Runnable</a></span></span>

</span></div><div class="anchor type-res hidden" id="name-startStopRunnable" data-popularity="100">	<input type='checkbox' class="fold" id="startStopRunnable-fold-content"><label for="startStopRunnable-fold-content"> <a href="../../../use/go.pact.im/x/process..startStopRunnable^aec5e.html">type</a> <a href="../../../src/go.pact.im/x/process/task.go.html#line-118">startStopRunnable</a> <i>(struct)</i></label><span id='startStopRunnable-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="startStopRunnable-fold-fields"><label for="startStopRunnable-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='startStopRunnable-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="startStopRunnable-showhide-fields"><i><label for="startStopRunnable-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="startStopRunnable-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/task.go.html#line-120">gracefulStop</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/go.pact.im/x/process/task.go.html#line-119">startInBackground</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="startStopRunnable-fold-methods"><label for="startStopRunnable-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='startStopRunnable-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*startStopRunnable) <a href="../../../src/go.pact.im/x/process/task.go.html#line-123">Run</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, callback <a href="#name-Callback">Callback</a>) <a href="../../builtin.html#name-error">error</a></span></span></span>
		<input type='checkbox' class="fold" id="startStopRunnable-fold-impls"><label for="startStopRunnable-fold-impls">Implements (<i>at least one exported</i>)</label><span id='startStopRunnable-fold-impls-items' class="fold-items"><span>
			*startStopRunnable : <a href="#name-Runnable">Runnable</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 8, all are exported)</i></span></span>

<div class="anchor value-res" id="name-Chain">	<input type='checkbox' class="fold" id="Chain-fold-content"><label for="Chain-fold-content"> <a href="../../../use/go.pact.im/x/process..Chain.html">func</a> <a href="../../../src/go.pact.im/x/process/chain.go.html#line-9">Chain</a>(deps ...<a href="#name-Runnable">Runnable</a>) <a href="#name-Runnable">Runnable</a></label><span id='Chain-fold-content-docs' class="fold-docs">
<span class="md-text">		Chain returns a Runnable instance that starts and runs processes by nesting
		them in callbacks. If no processes are given, it returns Nop instance.</span>

</span></div><div class="anchor value-res" id="name-Leaf">	<input type='checkbox' class="fold" id="Leaf-fold-content"><label for="Leaf-fold-content"> <a href="../../../use/go.pact.im/x/process..Leaf.html">func</a> <a href="../../../src/go.pact.im/x/process/task.go.html#line-65">Leaf</a>(runInForeground, gracefulStop func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a>) <a href="#name-Runnable">Runnable</a></label><span id='Leaf-fold-content-docs' class="fold-docs">
<span class="md-text">		Leaf converts a “leaf” function to a runnable process function that accepts
		callback. It accepts an optional gracefulStop function to perform graceful
		shutdown. If the function is nil, the process will be terminated by context
		cancellation instead.
		
		The resulting Runnable returns first non-nil error from functions in the
		following order: callback, gracefulStop, runInForeground. That is, if both
		callback and gracefulStop return a non-nil error, the latter is ignored.
		
		Example (HTTP):
		
			var lis net.Listener
			var srv *http.Server
		
			process.Leaf(
			  func(_ context.Context) error {
			    err := srv.Serve(lis)
			    if errors.Is(err, http.ErrServerClosed) {
			      return nil
			    }
			    return err
			  },
			  func(ctx context.Context) error {
			    err := srv.Shutdown(ctx)
			    if err != nil {
			      return srv.Close()
			    }
			    return nil
			  },
			)
		
		Example (gRPC):
		
			var lis net.Listener
			var srv *grpc.Server
		
			process.Leaf(
			  func(_ context.Context) error {
			    return srv.Serve(lis)
			  },
			  func(ctx context.Context) error {
			    done := make(chan struct{})
			    go func() {
			      srv.GracefulStop()
			      close(done)
			    }()
			    select {
			    case &lt;-ctx.Done():
			      srv.Stop()
			      &lt;-done
			    case &lt;-done:
			    }
			    return nil
			  },
			)
		
		Alternatively, use [go.pact.im/x/grpcprocess] package for gRPC.</span>

</span></div><div class="anchor value-res" id="name-Named">	<input type='checkbox' class="fold" id="Named-fold-content"><label for="Named-fold-content"> <a href="../../../use/go.pact.im/x/process..Named.html">func</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-64">Named</a>(name <a href="../../builtin.html#name-string">string</a>, p <a href="#name-Runnable">Runnable</a>) <a href="#name-Runnable">Runnable</a></label><span id='Named-fold-content-docs' class="fold-docs">
<span class="md-text">		Named returns a process that returns an error prefixed with name on failure.</span>

</span></div><div class="anchor value-res" id="name-NewProcess">	<input type='checkbox' class="fold" id="NewProcess-fold-content"><label for="NewProcess-fold-content"> <a href="../../../use/go.pact.im/x/process..NewProcess.html">func</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-64">NewProcess</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, proc <a href="#name-Runnable">Runnable</a>) *<a href="#name-Process">Process</a></label><span id='NewProcess-fold-content-docs' class="fold-docs">
<span class="md-text">		NewProcess returns a new stateful process instance for the given Runnable
		type parameter that would run with the ctx context.</span>

</span></div><div class="anchor value-res" id="name-Nop">	<input type='checkbox' class="fold" id="Nop-fold-content"><label for="Nop-fold-content"> <a href="../../../use/go.pact.im/x/process..Nop.html">func</a> <a href="../../../src/go.pact.im/x/process/runnable.go.html#line-47">Nop</a>() <a href="#name-Runnable">Runnable</a></label><span id='Nop-fold-content-docs' class="fold-docs">
<span class="md-text">		Nop returns a Runnable instance that performs no operations and returns when
		the callback does.</span>

</span></div><div class="anchor value-res" id="name-Parallel">	<input type='checkbox' class="fold" id="Parallel-fold-content"><label for="Parallel-fold-content"> <a href="../../../use/go.pact.im/x/process..Parallel.html">func</a> <a href="../../../src/go.pact.im/x/process/parallel.go.html#line-22">Parallel</a>(deps ...<a href="#name-Runnable">Runnable</a>) <a href="#name-Runnable">Runnable</a></label><span id='Parallel-fold-content-docs' class="fold-docs">
<span class="md-text">		Parallel returns a Runnable instance that starts and runs processes in
		parallel. If no processes are given, it returns Nop instance.
		
		The resulting Runnable calls callback after all process dependencies are
		successfully started. If any dependecy fails to start, processes that have
		already started are gracefully stopped. If any dependency fails before the
		main callback returns, the context passed to callback is canceled and all
		processes are gracefully stopped (unless the parent context has expired).
		
		The callbacks of dependencies return after the callback of the resulting
		dependent process. Run returns callback error if it is not nil, otherwise it
		returns combined errors from dependencies.</span>

</span></div><div class="anchor value-res" id="name-Sequential">	<input type='checkbox' class="fold" id="Sequential-fold-content"><label for="Sequential-fold-content"> <a href="../../../use/go.pact.im/x/process..Sequential.html">func</a> <a href="../../../src/go.pact.im/x/process/parallel.go.html#line-37">Sequential</a>(deps ...<a href="#name-Runnable">Runnable</a>) <a href="#name-Runnable">Runnable</a></label><span id='Sequential-fold-content-docs' class="fold-docs">
<span class="md-text">		Sequential returns a Runnable instance with the same guarantees as the
		Parallel function, but starts and stops processes in sequential order.</span>

</span></div><div class="anchor value-res" id="name-StartStop">	<input type='checkbox' class="fold" id="StartStop-fold-content"><label for="StartStop-fold-content"> <a href="../../../use/go.pact.im/x/process..StartStop.html">func</a> <a href="../../../src/go.pact.im/x/process/task.go.html#line-114">StartStop</a>(startInBackground, gracefulStop func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>) <a href="../../builtin.html#name-error">error</a>) <a href="#name-Runnable">Runnable</a></label><span id='StartStop-fold-content-docs' class="fold-docs">
<span class="md-text">		StartStop returns a Runnable instance for the pair of start/stop functions.
		The stop function should perform a graceful shutdown until a context expires,
		then proceed with a forced shutdown.
		
		The resulting Runnable returns either start error or the first non-nil error
		from callback and stop functions. If both callback and stop return a non-nil
		error, the latter is ignored.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div class="anchor value-res" id="name-ErrProcessInvalidState">	<input type='checkbox' class="fold" id="ErrProcessInvalidState-fold-content"><label for="ErrProcessInvalidState-fold-content">  <a href="../../../use/go.pact.im/x/process..ErrProcessInvalidState.html">var</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-16">ErrProcessInvalidState</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrProcessInvalidState-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrProcessInvalidState is an error that is returned if the process
		is not in the valid state for the operation.</span>

</span></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 4, all are exported)</i></span></span>

<div class="anchor value-res" id="name-StateInitial">	<input type='checkbox' class="fold" id="StateInitial-fold-content"><label for="StateInitial-fold-content"><a href="../../../use/go.pact.im/x/process..StateInitial.html">const</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-26">StateInitial</a> <a href="#name-State">State</a> = 0</label><span id='StateInitial-fold-content-docs' class="fold-docs">
<span class="md-text">		StateInitial is the initial state of the process. If Stop is called
		in initial state, it prevents subsequent Start calls from succeeding,
		thus entering StateStopped. Otherwise the transition on Start call
		is to the StateStarting.</span>

</span></div><div class="anchor value-res" id="name-StateRunning">	<input type='checkbox' class="fold" id="StateRunning-fold-content"><label for="StateRunning-fold-content"><a href="../../../use/go.pact.im/x/process..StateRunning.html">const</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-35">StateRunning</a> <a href="#name-State">State</a> = 2</label><span id='StateRunning-fold-content-docs' class="fold-docs">
<span class="md-text">		StateRunning is the state process enters after a successful startup.
		The only possible transition is to the StateStopped if either Stop
		is called or a process terminates.</span>

</span></div><div class="anchor value-res" id="name-StateStarting">	<input type='checkbox' class="fold" id="StateStarting-fold-content"><label for="StateStarting-fold-content"><a href="../../../use/go.pact.im/x/process..StateStarting.html">const</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-31">StateStarting</a> <a href="#name-State">State</a> = 1</label><span id='StateStarting-fold-content-docs' class="fold-docs">
<span class="md-text">		StateStarting is the starting state that process enters when Start
		is called from initial state. It transitions to either StateRunning
		on success or StateStopped on failure (or premature shutdown observed
		during startup).</span>

</span></div><div class="anchor value-res" id="name-StateStopped">	<input type='checkbox' class="fold" id="StateStopped-fold-content"><label for="StateStopped-fold-content"><a href="../../../use/go.pact.im/x/process..StateStopped.html">const</a> <a href="../../../src/go.pact.im/x/process/process.go.html#line-38">StateStopped</a> <a href="#name-State">State</a> = 3</label><span id='StateStopped-fold-content-docs' class="fold-docs">
<span class="md-text">		StateStopped is the final state of the process. There are no
		transitions from this state.</span>

</span></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>