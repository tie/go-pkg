<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/aws/smithy-go/auth/bearer</title>
<link href="../../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>bearer</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../index.html#pkg-github.com/aws/smithy-go/auth/bearer">github.com/aws/smithy-go/auth/bearer</a><i> (on <a href="https://pkg.go.dev/github.com/aws/smithy-go/auth/bearer" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../dep/github.com/aws/smithy-go/auth/bearer.html">8 packages</a>, and imported by <a href="../../../../../dep/github.com/aws/smithy-go/auth/bearer.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/docs.go.html#doc">d</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/docs.go.html">docs.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		Package bearer provides middleware and utilities for authenticating API
		operation calls with a Bearer Token.</span>
</span>
	<span class="nodocs">    <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html">middleware.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html">token.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html">token_cache.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 10, all are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-AuthenticationMiddleware" data-popularity="275">	<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-content"><label for="AuthenticationMiddleware-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..AuthenticationMiddleware.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-23">AuthenticationMiddleware</a> <i>(struct)</i></label><span id='AuthenticationMiddleware-fold-content-docs' class="fold-docs">
<span class="md-text">		AuthenticationMiddleware provides the Finalize middleware step for signing
		an request message with a bearer token.</span>

		<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-fields"><label for="AuthenticationMiddleware-fold-fields">Fields (<i>total 2, neither is exported</i>)</label><span id='AuthenticationMiddleware-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="AuthenticationMiddleware-showhide-fields"><i><label for="AuthenticationMiddleware-showhide-fields" class="show-inline">/* 2 unexporteds ... */</label><label for="AuthenticationMiddleware-showhide-fields" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-24">signer</a> <i><a href="#name-Signer">Signer</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-25">tokenProvider</a> <i><a href="#name-TokenProvider">TokenProvider</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-methods"><label for="AuthenticationMiddleware-fold-methods">Methods (<i>total 2, both are exported</i>)</label><span id='AuthenticationMiddleware-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-method-HandleFinalize"><label for="AuthenticationMiddleware-fold-method-HandleFinalize">(*AuthenticationMiddleware) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-54">HandleFinalize</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, in <a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-FinalizeInput">FinalizeInput</a>, next <a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-FinalizeHandler">FinalizeHandler</a>) (out <a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-FinalizeOutput">FinalizeOutput</a>, metadata <a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-Metadata">Metadata</a>, err <a href="../../../../builtin.html#name-error">error</a>)</label><span id='AuthenticationMiddleware-fold-method-HandleFinalize-docs' class="fold-docs">
<span class="md-text">				HandleFinalize implements the FinalizeMiddleware interface in order to
				update the request with bearer token authentication.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-method-ID"><label for="AuthenticationMiddleware-fold-method-ID">(*AuthenticationMiddleware) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-48">ID</a>() <a href="../../../../builtin.html#name-string">string</a></label><span id='AuthenticationMiddleware-fold-method-ID-docs' class="fold-docs">
<span class="md-text">				ID returns the resolver identifier</span>
</span></span></span>
		<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-impls"><label for="AuthenticationMiddleware-fold-impls">Implements (<i>at least 2, in which 1 is exported</i>)</label><span id='AuthenticationMiddleware-fold-impls-items' class="fold-items"><span>
			*AuthenticationMiddleware : github.com/aws/smithy-go/middleware.<a href="../middleware.html#name-FinalizeMiddleware">FinalizeMiddleware</a></span>
			<input type='checkbox' class="showhide" id="AuthenticationMiddleware-showhide-impls"><i><label for="AuthenticationMiddleware-showhide-impls" class="show-inline">/* at least one unexported ... */</label><label for="AuthenticationMiddleware-showhide-impls" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			*AuthenticationMiddleware : github.com/aws/smithy-go/middleware.<a href="../middleware.html#name-ider">ider</a></i></span></span>
		<input type='checkbox' class="fold" id="AuthenticationMiddleware-fold-results"><label for="AuthenticationMiddleware-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='AuthenticationMiddleware-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewAuthenticationMiddleware">NewAuthenticationMiddleware</a>(signer <a href="#name-Signer">Signer</a>, tokenProvider <a href="#name-TokenProvider">TokenProvider</a>) *<b>AuthenticationMiddleware</b></span></span>

</span></div><div class="anchor type-res" id="name-Message" data-popularity="220">	<input type='checkbox' class="fold" id="Message-fold-content"><label for="Message-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..Message.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-12">Message</a> <b><i>(interface)</i></b></label><span id='Message-fold-content-docs' class="fold-docs">
<span class="md-text">		Message is the middleware stack's request transport message value.</span>

		<input type='checkbox' class="fold" id="Message-fold-results"><label for="Message-fold-results">As Outputs Of (<i>at least 2, both are exported</i>)</label><span id='Message-fold-results-items' class="fold-items"><span>
			func <a href="#name-Signer">Signer</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-18">SignWithBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, <a href="#name-Token">Token</a>, <b>Message</b>) (<b>Message</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-SignHTTPSMessage">SignHTTPSMessage</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-90">SignWithBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, token <a href="#name-Token">Token</a>, message <b>Message</b>) (<b>Message</b>, <a href="../../../../builtin.html#name-error">error</a>)</span></span>
		<input type='checkbox' class="fold" id="Message-fold-params"><label for="Message-fold-params">As Inputs Of (<i>at least 2, both are exported</i>)</label><span id='Message-fold-params-items' class="fold-items"><span>
			func <a href="#name-Signer">Signer</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-18">SignWithBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, <a href="#name-Token">Token</a>, <b>Message</b>) (<b>Message</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-SignHTTPSMessage">SignHTTPSMessage</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-90">SignWithBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, token <a href="#name-Token">Token</a>, message <b>Message</b>) (<b>Message</b>, <a href="../../../../builtin.html#name-error">error</a>)</span></span>

</span></div><div class="anchor type-res" id="name-Signer" data-popularity="270">	<input type='checkbox' class="fold" id="Signer-fold-content"><label for="Signer-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..Signer.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-17">Signer</a> <b><i>(interface)</i></b></label><span id='Signer-fold-content-docs' class="fold-docs">
<span class="md-text">		Signer provides an interface for implementations to decorate a request
		message with a bearer token. The signer is responsible for validating the
		message type is compatible with the signer.</span>

		<input type='checkbox' class="fold" id="Signer-fold-methods"><label for="Signer-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Signer-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( Signer) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-18">SignWithBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, <a href="#name-Token">Token</a>, <a href="#name-Message">Message</a>) (<a href="#name-Message">Message</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span></span>
		<input type='checkbox' class="fold" id="Signer-fold-impledby"><label for="Signer-fold-impledby">Implemented By (<i>at least one exported</i>)</label><span id='Signer-fold-impledby-items' class="fold-items"><span>
			 <a href="#name-SignHTTPSMessage">SignHTTPSMessage</a></span></span>
		<input type='checkbox' class="fold" id="Signer-fold-params"><label for="Signer-fold-params">As Inputs Of (<i>at least 2, both are exported</i>)</label><span id='Signer-fold-params-items' class="fold-items"><span>
			func <a href="#name-AddAuthenticationMiddleware">AddAuthenticationMiddleware</a>(s *<a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-Stack">Stack</a>, signer <b>Signer</b>, tokenProvider <a href="#name-TokenProvider">TokenProvider</a>) <a href="../../../../builtin.html#name-error">error</a></span><span>
			func <a href="#name-NewAuthenticationMiddleware">NewAuthenticationMiddleware</a>(signer <b>Signer</b>, tokenProvider <a href="#name-TokenProvider">TokenProvider</a>) *<a href="#name-AuthenticationMiddleware">AuthenticationMiddleware</a></span></span>

</span></div><div class="anchor type-res" id="name-SignHTTPSMessage" data-popularity="175">	<input type='checkbox' class="fold" id="SignHTTPSMessage-fold-content"><label for="SignHTTPSMessage-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..SignHTTPSMessage.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-78">SignHTTPSMessage</a> <i>(struct)</i></label><span id='SignHTTPSMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		SignHTTPSMessage provides a bearer token authentication implementation that
		will sign the message with the provided bearer token.
		
		Will fail if the message is not a smithy-go HTTP request or the request is
		not HTTPS.</span>

		<input type='checkbox' class="fold" id="SignHTTPSMessage-fold-methods"><label for="SignHTTPSMessage-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='SignHTTPSMessage-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="SignHTTPSMessage-fold-method-SignWithBearerToken"><label for="SignHTTPSMessage-fold-method-SignWithBearerToken">( SignHTTPSMessage) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-90">SignWithBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, token <a href="#name-Token">Token</a>, message <a href="#name-Message">Message</a>) (<a href="#name-Message">Message</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='SignHTTPSMessage-fold-method-SignWithBearerToken-docs' class="fold-docs">
<span class="md-text">				SignWithBearerToken returns a copy of the HTTP request with the bearer token
				added via the "Authorization" header, per RFC 6750, https://datatracker.ietf.org/doc/html/rfc6750.
				
				Returns an error if the request's URL scheme is not HTTPS, or the request
				message is not an smithy-go HTTP Request pointer type.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="SignHTTPSMessage-fold-impls"><label for="SignHTTPSMessage-fold-impls">Implements (<i>at least one exported</i>)</label><span id='SignHTTPSMessage-fold-impls-items' class="fold-items"><span>
			 SignHTTPSMessage : <a href="#name-Signer">Signer</a></span></span>
		<input type='checkbox' class="fold" id="SignHTTPSMessage-fold-results"><label for="SignHTTPSMessage-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='SignHTTPSMessage-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewSignHTTPSMessage">NewSignHTTPSMessage</a>() *<b>SignHTTPSMessage</b></span></span>

</span></div><div class="anchor type-res" id="name-StaticTokenProvider" data-popularity="100">	<input type='checkbox' class="fold" id="StaticTokenProvider-fold-content"><label for="StaticTokenProvider-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..StaticTokenProvider.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-43">StaticTokenProvider</a> <i>(struct)</i></label><span id='StaticTokenProvider-fold-content-docs' class="fold-docs">
<span class="md-text">		StaticTokenProvider provides a utility for wrapping a static bearer token
		value within an implementation of a token provider.</span>

		<input type='checkbox' class="fold" id="StaticTokenProvider-fold-fields"><label for="StaticTokenProvider-fold-fields">Fields (<i>only one, which is exported</i>)</label><span id='StaticTokenProvider-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-44">Token</a> <i><a href="#name-Token">Token</a></i></span></span></span>
		<input type='checkbox' class="fold" id="StaticTokenProvider-fold-methods"><label for="StaticTokenProvider-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='StaticTokenProvider-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="StaticTokenProvider-fold-method-RetrieveBearerToken"><label for="StaticTokenProvider-fold-method-RetrieveBearerToken">( StaticTokenProvider) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-48">RetrieveBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="#name-Token">Token</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='StaticTokenProvider-fold-method-RetrieveBearerToken-docs' class="fold-docs">
<span class="md-text">				RetrieveBearerToken returns the static token specified.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="StaticTokenProvider-fold-impls"><label for="StaticTokenProvider-fold-impls">Implements (<i>at least one exported</i>)</label><span id='StaticTokenProvider-fold-impls-items' class="fold-items"><span>
			 StaticTokenProvider : <a href="#name-TokenProvider">TokenProvider</a></span></span>

</span></div><div class="anchor type-res" id="name-Token" data-popularity="570">	<input type='checkbox' class="fold" id="Token-fold-content"><label for="Token-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..Token.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-9">Token</a> <i>(struct)</i></label><span id='Token-fold-content-docs' class="fold-docs">
<span class="md-text">		Token provides a type wrapping a bearer token and expiration metadata.</span>

		<input type='checkbox' class="fold" id="Token-fold-fields"><label for="Token-fold-fields">Fields (<i>total 3, all are exported</i>)</label><span id='Token-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-12">CanExpire</a> <i><a href="../../../../builtin.html#name-bool">bool</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-13">Expires</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Time">Time</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-10">Value</a> <i><a href="../../../../builtin.html#name-string">string</a></i></span></span></span>
		<input type='checkbox' class="fold" id="Token-fold-methods"><label for="Token-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Token-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Token-fold-method-Expired"><label for="Token-fold-method-Expired">( Token) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-18">Expired</a>(now <a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Time">Time</a>) <a href="../../../../builtin.html#name-bool">bool</a></label><span id='Token-fold-method-Expired-docs' class="fold-docs">
<span class="md-text">				Expired returns if the token's Expires time is before or equal to the time
				provided. If CanExpires is false, Expired will always return false.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Token-fold-results"><label for="Token-fold-results">As Outputs Of (<i>at least 6, in which 4 are exported</i>)</label><span id='Token-fold-results-items' class="fold-items"><span>
			func <a href="#name-StaticTokenProvider">StaticTokenProvider</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-48">RetrieveBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<b>Token</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func (*<a href="#name-TokenCache">TokenCache</a>).<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-112">RetrieveBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<b>Token</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-TokenProvider">TokenProvider</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-28">RetrieveBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<b>Token</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-TokenProviderFunc">TokenProviderFunc</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-37">RetrieveBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<b>Token</b>, <a href="../../../../builtin.html#name-error">error</a>)</span>
			<input type='checkbox' class="showhide" id="Token-showhide-inputofs"><i><label for="Token-showhide-inputofs" class="show-inline">/* 2+ unexporteds ... */</label><label for="Token-showhide-inputofs" class="hide-inline">/* 2+ unexporteds: */</label></i><span class="hidden"><i>
			func (*<a href="#name-TokenCache">TokenCache</a>).<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-196">getCachedToken</a>() (<b>Token</b>, <a href="../../../../builtin.html#name-bool">bool</a>)</i></span><span class="hidden"><i>
			func (*<a href="#name-TokenCache">TokenCache</a>).<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-165">refreshBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<b>Token</b>, <a href="../../../../builtin.html#name-error">error</a>)</i></span></span>
		<input type='checkbox' class="fold" id="Token-fold-params"><label for="Token-fold-params">As Inputs Of (<i>at least 2, both are exported</i>)</label><span id='Token-fold-params-items' class="fold-items"><span>
			func <a href="#name-Signer">Signer</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-18">SignWithBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, <b>Token</b>, <a href="#name-Message">Message</a>) (<a href="#name-Message">Message</a>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-SignHTTPSMessage">SignHTTPSMessage</a>.<a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-90">SignWithBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, token <b>Token</b>, message <a href="#name-Message">Message</a>) (<a href="#name-Message">Message</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span>

</span></div><div class="anchor type-res" id="name-TokenCache" data-popularity="375">	<input type='checkbox' class="fold" id="TokenCache-fold-content"><label for="TokenCache-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..TokenCache.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-69">TokenCache</a> <i>(struct)</i></label><span id='TokenCache-fold-content-docs' class="fold-docs">
<span class="md-text">		TokenCache provides an utility to cache Bearer Authentication tokens from a
		wrapped TokenProvider. The TokenCache can be has options to configure the
		cache's early and asynchronous refresh of the token.</span>

		<input type='checkbox' class="fold" id="TokenCache-fold-fields"><label for="TokenCache-fold-fields">Fields (<i>total 5, none are exported</i>)</label><span id='TokenCache-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="TokenCache-showhide-fields"><i><label for="TokenCache-showhide-fields" class="show-inline">/* 5 unexporteds ... */</label><label for="TokenCache-showhide-fields" class="hide-inline">/* 5 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-73">cachedToken</a> <i><a href="../../../../sync/atomic.html">atomic</a>.<a href="../../../../sync/atomic.html#name-Value">Value</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-74">lastRefreshAttemptTime</a> <i><a href="../../../../sync/atomic.html">atomic</a>.<a href="../../../../sync/atomic.html#name-Value">Value</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-70">options</a> <i><a href="#name-TokenCacheOptions">TokenCacheOptions</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-71">provider</a> <i><a href="#name-TokenProvider">TokenProvider</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-75">sfGroup</a> <i><a href="../internal/sync/singleflight.html">singleflight</a>.<a href="../internal/sync/singleflight.html#name-Group">Group</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="TokenCache-fold-methods"><label for="TokenCache-fold-methods">Methods (<i>total 5, in which 1 is exported</i>)</label><span id='TokenCache-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="TokenCache-fold-method-RetrieveBearerToken"><label for="TokenCache-fold-method-RetrieveBearerToken">(*TokenCache) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-112">RetrieveBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="#name-Token">Token</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='TokenCache-fold-method-RetrieveBearerToken-docs' class="fold-docs">
<span class="md-text">				RetrieveBearerToken returns the token if it could be obtained, or error if a
				valid token could not be retrieved.
				
				The passed in Context's cancel/deadline/timeout will impacting only this
				individual retrieve call and not any other already queued up calls. This
				means underlying provider's RetrieveBearerToken calls could block for ever,
				and not be canceled with the Context. Set RetrieveBearerTokenTimeout to
				provide a timeout, preventing the underlying TokenProvider blocking forever.
				
				By default, if the passed in Context is canceled, all of its values will be
				considered expired. The wrapped TokenProvider will not be able to lookup the
				values from the Context once it is expired. This is done to protect against
				expired values no longer being valid. To disable this behavior, use
				smithy-go's context.WithPreserveExpiredValues to add a value to the Context
				before calling RetrieveBearerToken to enable support for expired values.
				
				Without RetrieveBearerTokenTimeout there is the potential for a underlying
				Provider's RetrieveBearerToken call to sit forever. Blocking in subsequent
				attempts at refreshing the token.</span>
</span></span>
			<input type='checkbox' class="showhide" id="TokenCache-showhide-methods"><i><label for="TokenCache-showhide-methods" class="show-inline">/* 4 unexporteds ... */</label><label for="TokenCache-showhide-methods" class="hide-inline">/* 4 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="TokenCache-fold-method-getCachedToken"><label for="TokenCache-fold-method-getCachedToken">(*TokenCache) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-196">getCachedToken</a>() (<a href="#name-Token">Token</a>, <a href="../../../../builtin.html#name-bool">bool</a>)</label><span id='TokenCache-fold-method-getCachedToken-docs' class="fold-docs">
<span class="md-text">				getCachedToken returns the currently cached token and true if found. Returns
				false if no token is cached.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*TokenCache) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-165">refreshBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="#name-Token">Token</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></i></span><span class="hidden"><i>
			<span class="nodocs">(*TokenCache) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-184">singleRetrieve</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (interface{}, <a href="../../../../builtin.html#name-error">error</a>)</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="TokenCache-fold-method-tryAsyncRefresh"><label for="TokenCache-fold-method-tryAsyncRefresh">(*TokenCache) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-137">tryAsyncRefresh</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>)</label><span id='TokenCache-fold-method-tryAsyncRefresh-docs' class="fold-docs">
<span class="md-text">				tryAsyncRefresh attempts to asynchronously refresh the token returning the
				already cached token. If it AsyncRefreshMinimumDelay option is not zero, and
				the duration since the last refresh is less than that value, nothing will be
				done.</span>
</span></i></span></span>
		<input type='checkbox' class="fold" id="TokenCache-fold-impls"><label for="TokenCache-fold-impls">Implements (<i>at least one exported</i>)</label><span id='TokenCache-fold-impls-items' class="fold-items"><span>
			*TokenCache : <a href="#name-TokenProvider">TokenProvider</a></span></span>
		<input type='checkbox' class="fold" id="TokenCache-fold-results"><label for="TokenCache-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='TokenCache-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewTokenCache">NewTokenCache</a>(provider <a href="#name-TokenProvider">TokenProvider</a>, optFns ...func(*<a href="#name-TokenCacheOptions">TokenCacheOptions</a>)) *<b>TokenCache</b></span></span>

</span></div><div class="anchor type-res" id="name-TokenCacheOptions" data-popularity="0">	<input type='checkbox' class="fold" id="TokenCacheOptions-fold-content"><label for="TokenCacheOptions-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..TokenCacheOptions.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-18">TokenCacheOptions</a> <i>(struct)</i></label><span id='TokenCacheOptions-fold-content-docs' class="fold-docs">
<span class="md-text">		TokenCacheOptions provides a set of optional configuration options for the
		TokenCache TokenProvider.</span>

		<input type='checkbox' class="fold" id="TokenCacheOptions-fold-fields"><label for="TokenCacheOptions-fold-fields">Fields (<i>total 4, all are exported</i>)</label><span id='TokenCacheOptions-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="TokenCacheOptions-fold-field-AsyncRefreshMinimumDelay"><label for="TokenCacheOptions-fold-field-AsyncRefreshMinimumDelay"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-55">AsyncRefreshMinimumDelay</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='TokenCacheOptions-fold-field-AsyncRefreshMinimumDelay-docs' class="fold-docs">
<span class="md-text">				The minimum duration between asynchronous refresh attempts. If the next
				asynchronous recent refresh attempt was within the minimum delay
				duration, the call to retrieve will return the current cached token, if
				not expired.
				
				The asynchronous retrieve is deduplicated across multiple calls when
				RetrieveBearerToken is called. The asynchronous retrieve is not a
				periodic task. It is only performed when the token has not yet expired,
				and the current item is within the RefreshBeforeExpires window, and the
				TokenCache's RetrieveBearerToken method is called.
				
				If 0, (default) there will be no minimum delay between asynchronous
				refresh attempts.
				
				If DisableAsyncRefresh is true, this option is ignored.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="TokenCacheOptions-fold-field-DisableAsyncRefresh"><label for="TokenCacheOptions-fold-field-DisableAsyncRefresh"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-63">DisableAsyncRefresh</a> <i><a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='TokenCacheOptions-fold-field-DisableAsyncRefresh-docs' class="fold-docs">
<span class="md-text">				Sets if the TokenCache will attempt to refresh the token in the
				background asynchronously instead of blocking for credentials to be
				refreshed. If disabled token refresh will be blocking.
				
				The first call to RetrieveBearerToken will always be blocking, because
				there is no cached token.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="TokenCacheOptions-fold-field-RefreshBeforeExpires"><label for="TokenCacheOptions-fold-field-RefreshBeforeExpires"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-27">RefreshBeforeExpires</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='TokenCacheOptions-fold-field-RefreshBeforeExpires-docs' class="fold-docs">
<span class="md-text">				The duration before the token will expire when the credentials will be
				refreshed. If DisableAsyncRefresh is true, the RetrieveBearerToken calls
				will be blocking.
				
				Asynchronous refreshes are deduplicated, and only one will be in-flight
				at a time. If the token expires while an asynchronous refresh is in
				flight, the next call to RetrieveBearerToken will block on that refresh
				to return.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="TokenCacheOptions-fold-field-RetrieveBearerTokenTimeout"><label for="TokenCacheOptions-fold-field-RetrieveBearerTokenTimeout"><a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-38">RetrieveBearerTokenTimeout</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='TokenCacheOptions-fold-field-RetrieveBearerTokenTimeout-docs' class="fold-docs">
<span class="md-text">				The timeout the underlying TokenProvider's RetrieveBearerToken call must
				return within, or will be canceled. Defaults to 0, no timeout.
				
				If 0 timeout, its possible for the underlying tokenProvider's
				RetrieveBearerToken call to block forever. Preventing subsequent
				TokenCache attempts to refresh the token.
				
				If this timeout is reached all pending deduplicated calls to
				TokenCache RetrieveBearerToken will fail with an error.</span>
</span></span></span>

</span></div><div class="anchor type-res" id="name-TokenProvider" data-popularity="605">	<input type='checkbox' class="fold" id="TokenProvider-fold-content"><label for="TokenProvider-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..TokenProvider.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-27">TokenProvider</a> <b><i>(interface)</i></b></label><span id='TokenProvider-fold-content-docs' class="fold-docs">
<span class="md-text">		TokenProvider provides interface for retrieving bearer tokens.</span>

		<input type='checkbox' class="fold" id="TokenProvider-fold-methods"><label for="TokenProvider-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='TokenProvider-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( TokenProvider) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-28">RetrieveBearerToken</a>(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="#name-Token">Token</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span></span>
		<input type='checkbox' class="fold" id="TokenProvider-fold-impledby"><label for="TokenProvider-fold-impledby">Implemented By (<i>at least 3, all are exported</i>)</label><span id='TokenProvider-fold-impledby-items' class="fold-items"><span>
			 <a href="#name-StaticTokenProvider">StaticTokenProvider</a></span><span>
			*<a href="#name-TokenCache">TokenCache</a></span><span>
			 <a href="#name-TokenProviderFunc">TokenProviderFunc</a></span></span>
		<input type='checkbox' class="fold" id="TokenProvider-fold-params"><label for="TokenProvider-fold-params">As Inputs Of (<i>at least 3, all are exported</i>)</label><span id='TokenProvider-fold-params-items' class="fold-items"><span>
			func <a href="#name-AddAuthenticationMiddleware">AddAuthenticationMiddleware</a>(s *<a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-Stack">Stack</a>, signer <a href="#name-Signer">Signer</a>, tokenProvider <b>TokenProvider</b>) <a href="../../../../builtin.html#name-error">error</a></span><span>
			func <a href="#name-NewAuthenticationMiddleware">NewAuthenticationMiddleware</a>(signer <a href="#name-Signer">Signer</a>, tokenProvider <b>TokenProvider</b>) *<a href="#name-AuthenticationMiddleware">AuthenticationMiddleware</a></span><span>
			func <a href="#name-NewTokenCache">NewTokenCache</a>(provider <b>TokenProvider</b>, optFns ...func(*<a href="#name-TokenCacheOptions">TokenCacheOptions</a>)) *<a href="#name-TokenCache">TokenCache</a></span></span>

</span></div><div class="anchor type-res" id="name-TokenProviderFunc" data-popularity="100">	<input type='checkbox' class="fold" id="TokenProviderFunc-fold-content"><label for="TokenProviderFunc-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..TokenProviderFunc.html">type</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-33">TokenProviderFunc</a> <i>(func)</i></label><span id='TokenProviderFunc-fold-content-docs' class="fold-docs">
<span class="md-text">		TokenProviderFunc provides a helper utility to wrap a function as a type
		that implements the TokenProvider interface.</span>

		<input type='checkbox' class="fold" id="TokenProviderFunc-fold-methods"><label for="TokenProviderFunc-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='TokenProviderFunc-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="TokenProviderFunc-fold-method-RetrieveBearerToken"><label for="TokenProviderFunc-fold-method-RetrieveBearerToken">( TokenProviderFunc) <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token.go.html#line-37">RetrieveBearerToken</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="#name-Token">Token</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='TokenProviderFunc-fold-method-RetrieveBearerToken-docs' class="fold-docs">
<span class="md-text">				RetrieveBearerToken calls the wrapped function, returning the Token or
				error.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="TokenProviderFunc-fold-impls"><label for="TokenProviderFunc-fold-impls">Implements (<i>at least one exported</i>)</label><span id='TokenProviderFunc-fold-impls-items' class="fold-items"><span>
			 TokenProviderFunc : <a href="#name-TokenProvider">TokenProvider</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 4, all are exported)</i></span></span>

<div class="anchor value-res" id="name-AddAuthenticationMiddleware">	<input type='checkbox' class="fold" id="AddAuthenticationMiddleware-fold-content"><label for="AddAuthenticationMiddleware-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..AddAuthenticationMiddleware.html">func</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-30">AddAuthenticationMiddleware</a>(s *<a href="../middleware.html">middleware</a>.<a href="../middleware.html#name-Stack">Stack</a>, signer <a href="#name-Signer">Signer</a>, tokenProvider <a href="#name-TokenProvider">TokenProvider</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='AddAuthenticationMiddleware-fold-content-docs' class="fold-docs">
<span class="md-text">		AddAuthenticationMiddleware helper adds the AuthenticationMiddleware to the
		middleware Stack in the Finalize step with the options provided.</span>

</span></div><div class="anchor value-res" id="name-NewAuthenticationMiddleware">	<input type='checkbox' class="fold" id="NewAuthenticationMiddleware-fold-content"><label for="NewAuthenticationMiddleware-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..NewAuthenticationMiddleware.html">func</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-38">NewAuthenticationMiddleware</a>(signer <a href="#name-Signer">Signer</a>, tokenProvider <a href="#name-TokenProvider">TokenProvider</a>) *<a href="#name-AuthenticationMiddleware">AuthenticationMiddleware</a></label><span id='NewAuthenticationMiddleware-fold-content-docs' class="fold-docs">
<span class="md-text">		NewAuthenticationMiddleware returns an initialized AuthenticationMiddleware.</span>

</span></div><div class="anchor value-res" id="name-NewSignHTTPSMessage">	<input type='checkbox' class="fold" id="NewSignHTTPSMessage-fold-content"><label for="NewSignHTTPSMessage-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..NewSignHTTPSMessage.html">func</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-81">NewSignHTTPSMessage</a>() *<a href="#name-SignHTTPSMessage">SignHTTPSMessage</a></label><span id='NewSignHTTPSMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		NewSignHTTPSMessage returns an initialized signer for HTTP messages.</span>

</span></div><div class="anchor value-res" id="name-NewTokenCache">	<input type='checkbox' class="fold" id="NewTokenCache-fold-content"><label for="NewTokenCache-fold-content"> <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..NewTokenCache.html">func</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-81">NewTokenCache</a>(provider <a href="#name-TokenProvider">TokenProvider</a>, optFns ...func(*<a href="#name-TokenCacheOptions">TokenCacheOptions</a>)) *<a href="#name-TokenCache">TokenCache</a></label><span id='NewTokenCache-fold-content-docs' class="fold-docs">
<span class="md-text">		NewTokenCache returns a initialized TokenCache that implements the
		TokenProvider interface. Wrapping the provider passed in. Also taking a set
		of optional functional option parameters to configure the token cache.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (only one, which is unexported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-timeNow"><i>	<input type='checkbox' class="fold" id="timeNow-fold-content"><label for="timeNow-fold-content">  <a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..timeNow^d41e7.html">var</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/token_cache.go.html#line-14">timeNow</a> func() <a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Time">Time</a></label><span id='timeNow-fold-content-docs' class="fold-docs">
<span class="md-text">		package variable that can be override in unit tests.</span>

</span></i></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (only one, which is unexported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-constants-showhide"><i><label for="unexported-constants-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-constants-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-authenticationMiddlewareID"><i>	<span class="nodocs"><a href="../../../../../use/github.com/aws/smithy-go/auth/bearer..authenticationMiddlewareID^c418e.html">const</a> <a href="../../../../../src/github.com/aws/smithy-go/auth/bearer/middleware.go.html#line-45">authenticationMiddlewareID</a> = "BearerTokenAuthentication"</span></i></div></div></code></pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>