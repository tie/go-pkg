<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: doc.go in package github.com/aws/smithy-go/middleware</title>
<link href="../../../../../css/auto-v0.7.6.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.7.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	doc.go

<span class="title">Belonging Package</span>
	<a href="../../../../../pkg/github.com/aws/smithy-go/middleware.html">github.com/aws/smithy-go/middleware</a>
</code></pre>

<pre class="line-numbers">
<div class="anchor" id="doc"><span class="codeline" id="line-1"><code><span class="comment">// Package middleware provides transport agnostic middleware for decorating SDK</span></code></span>
<span class="codeline" id="line-2"><code><span class="comment">// handlers.</span></code></span>
<span class="codeline" id="line-3"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-4"><code><span class="comment">// The Smithy middleware stack provides ordered behavior to be invoked on an</span></code></span>
<span class="codeline" id="line-5"><code><span class="comment">// underlying handler. The stack is separated into steps that are invoked in a</span></code></span>
<span class="codeline" id="line-6"><code><span class="comment">// static order. A step is a collection of middleware that are injected into a</span></code></span>
<span class="codeline" id="line-7"><code><span class="comment">// ordered list defined by the user. The user may add, insert, swap, and remove a</span></code></span>
<span class="codeline" id="line-8"><code><span class="comment">// step's middleware. When the stack is invoked the step middleware become static,</span></code></span>
<span class="codeline" id="line-9"><code><span class="comment">// and their order cannot be modified.</span></code></span>
<span class="codeline" id="line-10"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-11"><code><span class="comment">// A stack and its step middleware are **not** safe to modify concurrently.</span></code></span>
<span class="codeline" id="line-12"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-13"><code><span class="comment">// A stack will use the ordered list of middleware to decorate a underlying</span></code></span>
<span class="codeline" id="line-14"><code><span class="comment">// handler. A handler could be something like an HTTP Client that round trips an</span></code></span>
<span class="codeline" id="line-15"><code><span class="comment">// API operation over HTTP.</span></code></span>
<span class="codeline" id="line-16"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-17"><code><span class="comment">// Smithy Middleware Stack</span></code></span>
<span class="codeline" id="line-18"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-19"><code><span class="comment">// A Stack is a collection of middleware that wrap a handler. The stack can be</span></code></span>
<span class="codeline" id="line-20"><code><span class="comment">// broken down into discreet steps. Each step may contain zero or more middleware</span></code></span>
<span class="codeline" id="line-21"><code><span class="comment">// specific to that stack's step.</span></code></span>
<span class="codeline" id="line-22"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-23"><code><span class="comment">// A Stack Step is a predefined set of middleware that are invoked in a static</span></code></span>
<span class="codeline" id="line-24"><code><span class="comment">// order by the Stack. These steps represent fixed points in the middleware stack</span></code></span>
<span class="codeline" id="line-25"><code><span class="comment">// for organizing specific behavior, such as serialize and build. A Stack Step is</span></code></span>
<span class="codeline" id="line-26"><code><span class="comment">// composed of zero or more middleware that are specific to that step. A step may</span></code></span>
<span class="codeline" id="line-27"><code><span class="comment">// define its own set of input/output parameters the generic input/output</span></code></span>
<span class="codeline" id="line-28"><code><span class="comment">// parameters are cast from. A step calls its middleware recursively, before</span></code></span>
<span class="codeline" id="line-29"><code><span class="comment">// calling the next step in the stack returning the result or error of the step</span></code></span>
<span class="codeline" id="line-30"><code><span class="comment">// middleware decorating the underlying handler.</span></code></span>
<span class="codeline" id="line-31"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-32"><code><span class="comment">// * Initialize: Prepares the input, and sets any default parameters as needed,</span></code></span>
<span class="codeline" id="line-33"><code><span class="comment">// (e.g. idempotency token, and presigned URLs).</span></code></span>
<span class="codeline" id="line-34"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-35"><code><span class="comment">// * Serialize: Serializes the prepared input into a data structure that can be</span></code></span>
<span class="codeline" id="line-36"><code><span class="comment">// consumed by the target transport's message, (e.g. REST-JSON serialization).</span></code></span>
<span class="codeline" id="line-37"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-38"><code><span class="comment">// * Build: Adds additional metadata to the serialized transport message, (e.g.</span></code></span>
<span class="codeline" id="line-39"><code><span class="comment">// HTTP's Content-Length header, or body checksum). Decorations and</span></code></span>
<span class="codeline" id="line-40"><code><span class="comment">// modifications to the message should be copied to all message attempts.</span></code></span>
<span class="codeline" id="line-41"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-42"><code><span class="comment">// * Finalize: Performs final preparations needed before sending the message. The</span></code></span>
<span class="codeline" id="line-43"><code><span class="comment">// message should already be complete by this stage, and is only alternated to</span></code></span>
<span class="codeline" id="line-44"><code><span class="comment">// meet the expectations of the recipient, (e.g. Retry and AWS SigV4 request</span></code></span>
<span class="codeline" id="line-45"><code><span class="comment">// signing).</span></code></span>
<span class="codeline" id="line-46"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-47"><code><span class="comment">// * Deserialize: Reacts to the handler's response returned by the recipient of</span></code></span>
<span class="codeline" id="line-48"><code><span class="comment">// the request message. Deserializes the response into a structured type or</span></code></span>
<span class="codeline" id="line-49"><code><span class="comment">// error above stacks can react to.</span></code></span>
<span class="codeline" id="line-50"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-51"><code><span class="comment">// Adding Middleware to a Stack Step</span></code></span>
<span class="codeline" id="line-52"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-53"><code><span class="comment">// Middleware can be added to a step front or back, or relative, by name, to an</span></code></span>
<span class="codeline" id="line-54"><code><span class="comment">// existing middleware in that stack. If a middleware does not have a name, a</span></code></span>
<span class="codeline" id="line-55"><code><span class="comment">// unique name will be generated at the middleware and be added to the step.</span></code></span>
<span class="codeline" id="line-56"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-57"><code><span class="comment">//     // Create middleware stack</span></code></span>
<span class="codeline" id="line-58"><code><span class="comment">//     stack := middleware.NewStack()</span></code></span>
<span class="codeline" id="line-59"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-60"><code><span class="comment">//     // Add middleware to stack steps</span></code></span>
<span class="codeline" id="line-61"><code><span class="comment">//     stack.Initialize.Add(paramValidationMiddleware, middleware.After)</span></code></span>
<span class="codeline" id="line-62"><code><span class="comment">//     stack.Serialize.Add(marshalOperationFoo, middleware.After)</span></code></span>
<span class="codeline" id="line-63"><code><span class="comment">//     stack.Deserialize.Add(unmarshalOperationFoo, middleware.After)</span></code></span>
<span class="codeline" id="line-64"><code><span class="comment">//</span></code></span>
<span class="codeline" id="line-65"><code><span class="comment">//     // Invoke middleware on handler.</span></code></span>
<span class="codeline" id="line-66"><code><span class="comment">//     resp, err := stack.HandleMiddleware(ctx, req.Input, clientHandler)</span></code></span></div><span class="codeline" id="line-67"><code><span class="keyword">package</span> middleware</code></span>
</pre><pre id="footer">
The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.6</i>. (GOOS=linux GOARCH=amd64)</pre>